
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://jhpce.jhu.edu/all-listings/">
      
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.33">
    
    
      
        <title>JHPCE Documentation - All search results - JHPCE</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.3cba04c6.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-G0LK68FDTM"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-G0LK68FDTM",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-G0LK68FDTM",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#jhpce-documentation-all-search-results" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="JHPCE" class="md-header__button md-logo" aria-label="JHPCE" data-md-component="logo">
      
  <img src="../images/sph-logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            JHPCE
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              JHPCE Documentation - All search results
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
                
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="JHPCE" class="md-nav__button md-logo" aria-label="JHPCE" data-md-component="logo">
      
  <img src="../images/sph-logo.svg" alt="logo">

    </a>
    JHPCE
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href=".." class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Home
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1" id="__nav_1_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Home
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_2" >
        
          
          <label class="md-nav__link" for="__nav_1_2" id="__nav_1_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    About Us
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_2">
            <span class="md-nav__icon md-icon"></span>
            About Us
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../aboutus/model/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JHPCE Model
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../aboutus/staff/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Staff
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../aboutus/GrantAndAckBlurbs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Grant and Acknowledgment Blurbs
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../joinus/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1_3" id="__nav_1_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_3">
            <span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../joinus/new-users-form/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    New user form
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_3_4" >
        
          
          <label class="md-nav__link" for="__nav_1_3_4" id="__nav_1_3_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    New PI information and form
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_1_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_3_4">
            <span class="md-nav__icon md-icon"></span>
            New PI information and form
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../joinus/new-pi/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    New PI Information
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../joinus/new-pi-form/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    New PI Form
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_3_5" >
        
          
          <label class="md-nav__link" for="__nav_1_3_5" id="__nav_1_3_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Orientation/Logging In
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_1_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_3_5">
            <span class="md-nav__icon md-icon"></span>
            Orientation/Logging In
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../orient/orientation-overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../orient/images/latest-orient.pdf" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JHPCE Orientation (PDF)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../orient/images/latest-csub-orient.pdf" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    C-SUB Orientation (PDF)
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../joinus/leaving/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Leaving JHPCE as a User or PI
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../csub/new-csub-users/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    New C-SUB PI or user?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../joinus/policies/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Policies
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../joinus/hipaa/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HIPAA on JHPCE
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_4" >
        
          
          <label class="md-nav__link" for="__nav_1_4" id="__nav_1_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Getting Help
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_4">
            <span class="md-nav__icon md-icon"></span>
            Getting Help
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../help/help-basics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Basics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../help/good-query/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Submitting Good Queries
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../help/list-archives/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Support Email List Archives
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../help/external/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    External Guides
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../help/glossary-manual/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Glossary
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ourtools/tags/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tagged Files
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../help/images/guide-to-manual-pages.pdf" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to read a manual page (pdf)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_4_8" >
        
          
          <label class="md-nav__link" for="__nav_1_4_8" id="__nav_1_4_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Tools For Site Developers
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_1_4_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_4_8">
            <span class="md-nav__icon md-icon"></span>
            Tools For Site Developers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ourtools/features/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0 8a5 5 0 0 1-5-5 5 5 0 0 1 5-5 5 5 0 0 1 5 5 5 5 0 0 1-5 5m0-12.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5Z"/></svg>
  
  <span class="md-ellipsis">
    Handy Features
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ourtools/tips-conventions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tips & Conventions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ourtools/wishlist/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Wishlist
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../help/faq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FAQ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_6" >
        
          
          <label class="md-nav__link" for="__nav_1_6" id="__nav_1_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Accessing the cluster
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_6">
            <span class="md-nav__icon md-icon"></span>
            Accessing the cluster
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../access/access-overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../access/ssh/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SSH
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../access/x11/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    X11
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../access/mobaxterm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MobaXterm
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_6_5" >
        
          
          <label class="md-nav__link" for="__nav_1_6_5" id="__nav_1_6_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Transferring files in or out
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_1_6_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_6_5">
            <span class="md-nav__icon md-icon"></span>
            Transferring files in or out
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../access/file-transfer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../access/globus/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Globus
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../access/onedrive/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OneDrive via rclone
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_7" >
        
          
          <label class="md-nav__link" for="__nav_1_7" id="__nav_1_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Managing Files
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_7">
            <span class="md-nav__icon md-icon"></span>
            Managing Files
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../files/files-overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Files Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../files/sharing-files/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sharing Files
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../files/acl/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ACL
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../files/copying-files/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Copying within cluster
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_7_5" >
        
          
          <label class="md-nav__link" for="__nav_1_7_5" id="__nav_1_7_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Rsync: A Key File Mgmt Tool
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_1_7_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_7_5">
            <span class="md-nav__icon md-icon"></span>
            Rsync: A Key File Mgmt Tool
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../files/rsync/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0 8a5 5 0 0 1-5-5 5 5 0 0 1 5-5 5 5 0 0 1 5 5 5 5 0 0 1-5 5m0-12.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5Z"/></svg>
  
  <span class="md-ellipsis">
    Using Rsync
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../files/rsync-itemize-table/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Itemize Output Key
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../files/rsync-itemize-manpage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Itemize Manual Page
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../files/archive-files/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Archive Files
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../files/deep-paths/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0 8a5 5 0 0 1-5-5 5 5 0 0 1 5-5 5 5 0 0 1 5 5 5 5 0 0 1-5 5m0-12.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5Z"/></svg>
  
  <span class="md-ellipsis">
    Navigating Deep Directory Trees
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../files/data-security/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data Security
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../files/encfs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Encrypting filesystems with ENCFS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../storage/storage-tips/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Storage Tips
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../files/copying-files/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Copying within cluster
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_8" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../storage/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Storage Policies and Practices
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1_8" id="__nav_1_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_8">
            <span class="md-nav__icon md-icon"></span>
            Storage Policies and Practices
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../storage/backups-restores/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Backups and Restores
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../storage/quotas/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quotas
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../storage/fastscratch/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fastscratch
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../storage/storage-tips/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Storage Tips
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_9" >
        
          
          <label class="md-nav__link" for="__nav_1_9" id="__nav_1_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Software
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_9">
            <span class="md-nav__icon md-icon"></span>
            Software
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sw/sw-overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_9_2" >
        
          
          <label class="md-nav__link" for="__nav_1_9_2" id="__nav_1_9_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Local Software
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_1_9_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_9_2">
            <span class="md-nav__icon md-icon"></span>
            Local Software
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sw/matlab/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Matlab
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sw/python/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sw/r/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    R
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sw/r-studio/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    R Studio
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sw/rstudio-server/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    R Studio Server
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sw/sas/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SAS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sw/stata/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Stata
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sw/modules/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Modules
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_9_4" >
        
          
          <label class="md-nav__link" for="__nav_1_9_4" id="__nav_1_9_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Installing Your Own
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_1_9_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_9_4">
            <span class="md-nav__icon md-icon"></span>
            Installing Your Own
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sw/building-from-src/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Compile from Source
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sw/conda/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Conda Environment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sw/python-pkg/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python Packages
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sw/r-pkg/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    R Packages
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sw/singularity/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Singularity
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sw/locally-written/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JHPCE-created
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sw/gui-tools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Helpful GUI Programs
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_10" >
        
          
          <label class="md-nav__link" for="__nav_1_10" id="__nav_1_10_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Job scheduler (SLURM)
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_10">
            <span class="md-nav__icon md-icon"></span>
            Job scheduler (SLURM)
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../slurm/getting-started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../slurm/about-jobs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About Jobs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../slurm/partitions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Partitions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../slurm/time-limits/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Time Limits
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_10_5" >
        
          
          <label class="md-nav__link" for="__nav_1_10_5" id="__nav_1_10_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Command tips & reference
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_1_10_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_10_5">
            <span class="md-nav__icon md-icon"></span>
            Command tips & reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../slurm/slurm-commands-ref/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cmd tips & reference
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../slurm/tips-sacct/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0 8a5 5 0 0 1-5-5 5 5 0 0 1 5-5 5 5 0 0 1 5 5 5 5 0 0 1-5 5m0-12.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5Z"/></svg>
  
  <span class="md-ellipsis">
    sacct tips
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../slurm/tips-sacctmgr/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sacctmgr tips
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../slurm/tips-scontrol/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    scontrol tips
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../slurm/tips-squeue/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    squeue tips
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../slurm/tips-reportseff/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0 8a5 5 0 0 1-5-5 5 5 0 0 1 5-5 5 5 0 0 1 5 5 5 5 0 0 1-5 5m0-12.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5Z"/></svg>
  
  <span class="md-ellipsis">
    reportseff tips
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../slurm/interactive-jobs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Interactive Jobs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../slurm/crafting-jobs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Crafting Batch Jobs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../slurm/monitoring/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Monitoring Your Jobs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../slurm/whenstart/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    When Will My Job Start?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../slurm/qos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quality of Service (QOS)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../slurm/environment/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Job Environment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../slurm/node-features/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Node Features
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../slurm/user-guide-collection/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Example User Guides
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../slurm/slurm-faq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SLURM FAQ
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_11" >
        
          
          <label class="md-nav__link" for="__nav_1_11" id="__nav_1_11_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    User Guides/Tutorials
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_11">
            <span class="md-nav__icon md-icon"></span>
            User Guides/Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_11_1" >
        
          
          <label class="md-nav__link" for="__nav_1_11_1" id="__nav_1_11_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    GPU
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_1_11_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_11_1">
            <span class="md-nav__icon md-icon"></span>
            GPU
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../gpu/gpu-info/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using GPUs on JHPCE
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../gpu/alphafold/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Alphafold
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sw/vscode/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    VS Code
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../help/cost-calculator/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cost Calculator
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_12" >
        
          
          <label class="md-nav__link" for="__nav_1_12" id="__nav_1_12_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Web Portal
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_12">
            <span class="md-nav__icon md-icon"></span>
            Web Portal
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../portal/web-apps/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GUI Applications
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../portal/datacatalog/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Datacatalog
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../portal/web-reset/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Self Service MFA, Password Requests
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_13" >
        
          
          <label class="md-nav__link" for="__nav_1_13" id="__nav_1_13_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    C-SUB
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_13">
            <span class="md-nav__icon md-icon"></span>
            C-SUB
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../csub/csub-overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    What Is The C-SUB?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../csub/new-csub-users/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    New C-SUB PI or user?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../orient/images/latest-csub-orient.pdf" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    C-SUB Orientation (PDF)
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
                
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" hidden>
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="jhpce-documentation-all-search-results">JHPCE Documentation - All search results<a class="headerlink" href="#jhpce-documentation-all-search-results" title="Anchor link to this section for reference">&para;</a></h1>
<p>You will find here all the search results listings.</p>
<p><style>a.url { color: gray; font-size: small; display: block; }</style><h2><a class="heading" href="../access/access-overview">Overview</a></h2><a class="url" href="../access/access-overview">access/access-overview/</a><pre class="mermaid"><code>graph TD
   A[Your computer] --&gt; B([Login nodes])
   A[Your computer] -- Only via Hopkins/VPN --&gt; D((Web Portal))
   A[Your computer] --&gt; C([Transfer node])
   B([Login nodes]) --&gt; E[Compute node1]
   D((Web Portal)) --&gt; E[Compute node1]
   B([Login nodes]) --&gt; F[Compute node2]
   D((Web Portal)) --&gt; F[Compute node2]
   B([Login nodes]) --&gt; G[Compute node3]
   D((Web Portal)) --&gt; G[Compute node3]
   C([Transfer node]) &lt;--&gt; H[(storage servers)]</code></pre><h2><a class="heading" href="../access/file-transfer">Overview</a></h2><a class="url" href="../access/file-transfer">access/file-transfer/</a><pre><span></span><code>jhpce01% srun --pty --x11 -p transfer bash
</code></pre><pre><span></span><code>scp LOCAL_PATH/data.txt USERID@jhpce-transfer01.jhsph.edu:REMOTE_PATH/REMOTE_TARGET_FILENAME
</code></pre><pre><span></span><code>scp USERID@jhpce-transfer01.jhsph.edu:REMOTE_PATH/data2.txt LOCAL_PATH/LOCAL_TARGET_FILENAME
</code></pre><pre><span></span><code>sftp USERID@jhpce-transfer01.jhsph.edu
</code></pre><pre><span></span><code>/jhpce/shared/jhpce/core/JHPCE_tools/3.0/packages/ibm-aspera-connect_4.2.10.749_linux_x86_64.sh
</code></pre><pre><span></span><code>bash ibm-aspera-connect_4.2.10.749_linux_x86_64.sh
</code></pre><pre><span></span><code>lynx ftp://USER@ftp.site.gov
</code></pre><pre><span></span><code>wget ftp://USER:PASSWORD@ftp.site.gov/path/to/file
</code></pre><h2><a class="heading" href="../access/onedrive">OneDrive via rclone</a></h2><a class="url" href="../access/onedrive">access/onedrive/</a><pre><span></span><code>[myuser@transfer-01 ~]$ xdg-settings set default-web-browser chromium-browser.desktop
</code></pre><pre><span></span><code><span class="gp">[compute-113 /users/bob]$ </span>rclone<span class="w"> </span>lsd<span class="w"> </span>OneDrive:
<span class="go">          -1 2019-12-21 01:54:32         2 BoxMigration</span>
<span class="go">          -1 2014-11-05 17:23:32        25 Documents</span>
<span class="go">          -1 2014-11-05 17:22:55       173 HomeDir</span>
<span class="go">          -1 2021-01-19 13:12:36         2 JHPCE-Billing-Videos</span>
<span class="go">          -1 2015-12-03 11:37:36         1 Lustre</span>
<span class="go">          -1 2019-07-11 17:25:16        10 OLDVMs</span>
<span class="go">          -1 2014-11-05 15:15:11         1 Shared with Everyone</span>
<span class="go">          -1 2019-07-11 12:13:21         0 USB</span>
</code></pre><pre><span></span><code><span class="gp">[compute-113 /users/bob]$ </span>rclone<span class="w"> </span>ls<span class="w"> </span>OneDrive:Documents
<span class="go">    84842 FY2014Q3 JHPCE Charges.xlsx</span>
<span class="go">    89229 FY2014Q4 JHPCE Charges.xlsx</span>
<span class="go">    57580 Globus-compute-022.rtf</span>
<span class="go">    43103 HPSCC Expenses.xlsx</span>
<span class="go">   684491 JHPCE-Overview-2014.pdf</span>
<span class="go">  1061265 JHPCE-Overview-2014.pptx</span>
<span class="go">    71168 JHU-Intel-Test-Cluster-Access.xls</span>
<span class="go">. . .</span>
<span class="go">   410012 pg10031.txt</span>
<span class="go">  4454050 pg31100.txt</span>
<span class="go">  1418582 pg6400.txt</span>
<span class="go">      426 plot1.r</span>
<span class="go">       20 plot1.sh</span>
<span class="go">       83 test1.sh</span>
<span class="gp">[compute-113 /users/bob]$ </span>
</code></pre><pre><span></span><code><span class="gp">[compute-113 /users/bob]$ </span>ls<span class="w"> </span>pg6400.txt
<span class="go">ls: cannot access pg6400.txt: No such file or directory</span>
<span class="gp">[compute-113 /users/bob]$ </span>rclone<span class="w"> </span>copy<span class="w"> </span>OneDrive:Documents/pg6400.txt<span class="w"> </span>.
<span class="gp">[compute-113 /users/bob]$ </span>ls<span class="w"> </span>-l<span class="w"> </span>pg6400.txt
<span class="go">-rw-r--r-- 1 bob mmi 1418582 Nov  5  2014 pg6400.txt</span>
<span class="gp">[compute-113 /users/bob]$ </span>touch<span class="w"> </span>zzz-test.txt
<span class="gp">[compute-113 /users/bob]$ </span>rclone<span class="w"> </span>copy<span class="w"> </span>zzz-test.txt<span class="w"> </span>OneDrive:Documents
<span class="gp">[compute-113 /users/bob]$ </span>rclone<span class="w"> </span>ls<span class="w"> </span>OneDrive:Documents<span class="w"> </span><span class="p">|</span><span class="w"> </span>tail
<span class="go">  2806147 ge_presentation.pdf</span>
<span class="go">   320053 pdf.tgz</span>
<span class="go">  5589891 pg100.txt</span>
<span class="go">   410012 pg10031.txt</span>
<span class="go">  4454050 pg31100.txt</span>
<span class="go">  1418582 pg6400.txt</span>
<span class="go">      426 plot1.r</span>
<span class="go">       20 plot1.sh</span>
<span class="go">       83 test1.sh</span>
<span class="go">        0 zzz-test.txt</span>
</code></pre><h2><a class="heading" href="../access/ssh">SSH</a></h2><a class="url" href="../access/ssh">access/ssh/</a><pre><span></span><code>ssh-keygen -t rsa
</code></pre><pre><span></span><code>cat ~/.ssh/id_rsa.pub | ssh &lt;your_userid&gt;@jhpce01.jhsph.edu 'cat &gt;&gt; ~/.ssh/authorized_keys'
</code></pre><pre><span></span><code>ssh-add
ssh-agent
</code></pre><pre><span></span><code>EnableEscapeCommandline<span class="w"> </span>yes<span class="w"> </span><span class="c1"># Needed for recent macOS if you want to issue an SSH escape,</span>
<span class="c1">#.      to create or close a tunnel for example</span>
ForwardX11<span class="w"> </span>yes<span class="w">        </span><span class="c1"># Equiv to "-X" arg</span>
ForwardX11Trusted<span class="w"> </span>yes<span class="w"> </span><span class="c1"># Equiv to "-Y" arg</span>
XAuthLocation<span class="w"> </span>/opt/X11/bin/xauth<span class="w">  </span><span class="c1"># only include if needed</span>
<span class="c1"># These are for users of public keys</span>
UseKeychain<span class="w"> </span>yes<span class="w">       </span><span class="c1"># look for passphrases for public keys in macOS keychain</span>
AddKeysToAgent<span class="w"> </span>yes<span class="w">    </span><span class="c1"># store passphrases for public keys in macOS keychain</span>
<span class="c1"># These keys are tried in order when logging in, and are loaded by your SSH agent</span>
IdentityFile<span class="w"> </span>~/.ssh/id_ecdsa
IdentityFile<span class="w"> </span>~/.ssh/id_rsa
ForwardAgent<span class="w"> </span>yes<span class="w">      </span><span class="c1"># Equiv to the "-A" arg. For ssh'ing from 1 to 2 to 3. </span>
</code></pre><pre><span></span><code>ForwardX11Timeout<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="c1"># disables the timeout, which is by default 20mins</span>
<span class="w">                    </span><span class="c1"># you can also set it to a time value like "336h" (2 weeks)</span>
</code></pre><pre><span></span><code>ServerAliveInterval<span class="w"> </span><span class="m">15</span>
ServerAliveCountMax<span class="w"> </span><span class="m">30</span>
<span class="c1"># These values mean that your client ssh program will send a message to the server</span>
<span class="c1"># every 15 seconds, and not decide that a remote server is unresponsive until</span>
<span class="c1"># (15*30)=450 seconds</span>
</code></pre><pre><span></span><code>TCPKeepAlive<span class="w"> </span>no
<span class="c1"># TCPKeepAlive defaults to YES, so you have to intentionally disable it.</span>
<span class="c1"># The author of this web page chose to disable TCPKeepAlive at one time (and then</span>
<span class="c1"># used the earlier method for many years happily) because it seemed to be the case</span>
<span class="c1"># that with it enabled, ssh sessions would die if the connection dropped even</span>
<span class="c1"># briefly.</span>
<span class="c1"># It is unclear how long SSH waits if TCPKeepAlive is yes. The output of this</span>
<span class="c1"># command may give clues, at least on Linux computers:</span>
<span class="c1">#     grep -T . /proc/sys/net/ipv4/tcp_keepalive*</span>
<span class="c1"># In any case, normal users cannot change the duration if they use TCPKeepAlive yes</span>
</code></pre><pre><span></span><code>Host<span class="w"> </span>jhpce01<span class="w"> </span>j1<span class="w"> </span>jhpce01.jhsph.edu
<span class="w">    </span>Hostname<span class="w"> </span>jhpce01.jhsph.edu
<span class="w">    </span>User<span class="w"> </span>your-cluster-username
<span class="w">    </span>ForwardX11<span class="w"> </span>yes
<span class="w">    </span>IdentityFile<span class="w"> </span>~/.ssh/id_ecdsa.jhpce
</code></pre><pre><span></span><code>Host<span class="w"> </span>*
<span class="w">    </span>ForwardX11<span class="w"> </span>no
<span class="w">    </span>IdentityFile<span class="w"> </span>~/.ssh/id_rsa.my-general-key
</code></pre><h2><a class="heading" href="../files/acl">ACL</a></h2><a class="url" href="../files/acl">files/acl/</a><pre><span></span><code>access type:[flags]:principal:permissions
</code></pre><pre><span></span><code>[alice@compute-123 ~]$ pwd
/users/alice
[alice@compute-123 ~]$ ls -ld .
drwx------ 63 alice users 134 Apr 12 14:36 ./
[alice@compute-123 ~]$ nfs4_getfacl .
# file: .
A::OWNER@:rwaDxtTcCy
A::GROUP@:tcy
A::EVERYONE@:tcy
</code></pre><pre><span></span><code>[alice@compute-123 ~]$ nfs4_setfacl -a A::bob@cm.cluster:RX .
[alice@compute-123 ~]$ getfacl .
# file: .
A::OWNER@:rwaDxtTcCy
A::bob@cm.cluster:xtcy
A::GROUP@:tcy
A::EVERYONE@:tcy
At this point, bob would be able to access alice’s home directory. Now suppose there is a file that alice wants to let bob update. Alice could use ACLs to grant write access to a particular file:

[alice@compute-123 ~]$ ls -l shared-data.txt
-rw-r--r-- 1 alice users 79691776 Feb  2 07:06 shared-data.txt
[alice@compute-123 ~]$ nfs4_getfacl shared-data.txt
# file: shared-data.txt
A::OWNER@:rwatTcCy
A::GROUP@:rtcy
A::EVERYONE@:rtcy
[alice@compute-123 ~]$ nfs4_setfacl -a A::bob@cm.cluster:RWX shared-data.txt 
[alice@compute-123 ~]$ nfs4_getfacl shared-data.txt
nfs4_getfacl shared-data.txt
# file: shared-data.txt
A::OWNER@:rwatTcCy
A::bob@cm.cluster:rwaxtcy
A::GROUP@:rtcy
A::EVERYONE@:rtcy
</code></pre><pre><span></span><code>[alice@compute-123 ~]$ mkdir shared
[alice@compute-123 ~]$ nfs4_setfacl -a A::bob@cm.cluster:RWX shared
[alice@compute-123 ~]$ nfs4_getfacl shared
nfs4_getfacl shared-data.txt
# file: shared-data.txt
A::OWNER@:rwatTcCy
A::bob@cm.cluster:rwaxtcy
A::GROUP@:rtcy
A::EVERYONE@:rtcy
Now the user bob can copy or save files in the “shared” directory.
</code></pre><pre><span></span><code>[alice@compute-123 ~]$ nfs4_setfacl -a A:fdi:bob@cm.cluster:RWX shared
[alice@compute-123 ~]$ nfs4_setfacl -a A:fdi:OWNER@:RWX shared
[alice@compute-123 ~]$ nfs4_setfacl -a A:fdi:GROUP@:RWX shared
[alice@compute-123 ~]$ nfs4_getfacl shared
nfs4_getfacl shared-data.txt
# file: shared-data.txt
A::OWNER@:rwatTcCy
A::bob@cm.cluster:rwaxtcy
A::GROUP@:rtcy
A::EVERYONE@:rtcy
A:fdi:OWNER@:rwaDxtTcCy
A:fdi:bob@cm.cluster:rwaDxtcy
A:fdi:GROUP@:rwaDxtcy
A:fdi:EVERYONE@:tcy
</code></pre><pre><span></span><code>[alice@compute-123 ~]$ mkdir shared
[alice@compute-123 ~]$ nfs4_setfacl -a A:g:hpscc@cm.cluster:RWX shared
[alice@compute-123 ~]$ nfs4_getfacl shared
nfs4_getfacl shared-data.txt
# file: shared-data.txt
A::OWNER@:rwatTcCy
A::GROUP@:rtcy
A:g:hpscc@cm.cluster:rwaDxtcy
A::EVERYONE@:rtcy
To set a Group Inherited ACL, you need to add the “gfdi” option to the “nfs4_getfacl” command. With this inherited group ACL set, all new files and directories will inherit the group settings.

[alice@compute-123 ~]$ nfs4_setfacl -a A:gfdi:swdev@cm.cluster:RWX shared
[alice@compute-123 ~]$ nfs4_setfacl -a A:fdi:OWNER@:RWX shared
[alice@compute-123 ~]$ nfs4_setfacl -a A:fdi:GROUP@:RWX shared
[alice@compute-123 ~]$ nfs4_getfacl shared

# file: shared
A::OWNER@:rwaDxtTcCy
A::GROUP@:rwaDxtcy
A:g:hpscc@cm.cluster:rwaDxtcy
A::EVERYONE@:rxtcy
A:fdi:OWNER@:rwaDxtTcCy
A:fdi:GROUP@:rwaDxtcy
A:fdig:swdev@cm.cluster:rwaDxtcy
A:fdi:EVERYONE@:tcy
</code></pre><pre><span></span><code>[alice@compute-123 ~]$ nfs4_setfacl -a A:gfdi:hpscc@cm.cluster:RWX test1
[alice@compute-123 ~]$ touch test1/f1
[alice@compute-123 ~]$ nfs4_getfacl test1/f1

# file: test1/f1
A::OWNER@:rwatTcCy
A::GROUP@:rtcy
A:g:hpscc@cm.cluster:rtcy
A::EVERYONE@:rtcy
[alice@compute-123 ~]$ umask 0002
[alice@compute-123 ~]$ touch test1/f2
[alice@compute-123 ~]$ nfs4_getfacl test1/f2

# file: test1/f2
A::OWNER@:rwatTcCy
A::GROUP@:rwatcy
A:g:hpscc@cm.cluster:rwatcy
A::EVERYONE@:rtcy
</code></pre><pre><span></span><code>[alice@compute-123 ~]$ nfs4_setfacl -x A::bob@cm.cluster:rwaxtcy shared
[alice@compute-123 ~]$ nfs4_getfacl shared
nfs4_getfacl shared-data.txt
# file: shared-data.txt
A::OWNER@:rwatTcCy
A::GROUP@:rtcy
A::EVERYONE@:rtcy
</code></pre><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>into-the-top-of-the-directory-tree
find<span class="w"> </span>.<span class="w"> </span>-type<span class="w"> </span>d<span class="w"> </span>-print0<span class="w"> </span><span class="p">|</span><span class="w"> </span>xargs<span class="w"> </span>--null<span class="w"> </span>nfs4_setfacl<span class="w"> </span>-a<span class="w"> </span>A::bob@cm.cluster:RWX
find<span class="w"> </span>.<span class="w"> </span>-type<span class="w"> </span>f<span class="w"> </span>-print0<span class="w"> </span><span class="p">|</span><span class="w"> </span>xargs<span class="w"> </span>--null<span class="w"> </span>nfs4_setfacl<span class="w"> </span>-a<span class="w"> </span>A::bob@cm.cluster:R
</code></pre><pre><span></span><code>nfs4_getfacl -R source_dir &gt; tmpfile1
setfacl --restore tmpfile1 destination_dir

nfs4_getfacl -R source_dir |
setfacl --restore - destination_dir
</code></pre><pre><span></span><code># file: .
A::OWNER@:rwaDxtTcCy
A::GROUP@:tcy
A::EVERYONE@:tcy
</code></pre><pre><span></span><code>[alice@compute-123 ]$ pwd
/dcl02/project/data/alice
[alice@compute-123 ]$ getfacl .
# file: .
# owner: alice
# group: users
user::rwx
group::---
other::---
</code></pre><pre><span></span><code>[alice@compute-123 ]$ setfacl -m user:bob:rx .
[alice@compute-123 ]$ getfacl .
# file: .
# owner: alice
# group: users
user::rwx
user:bob:r-x
group::---
mask::r-x
other::---
</code></pre><pre><span></span><code>[alice@compute-123 ]$ ls -l shared-data.txt
-rw-r--r-- 1 alice users 79691776 Feb  2 07:06 shared-data.txt
[alice@compute-123 ]$ getfacl shared-data.txt
# file: shared-data.txt
# owner: alice
# group: users
user::rw-
group::r--
other::r--
[alice@compute-123 ]$ setfacl -m user:bob:rw shared-data.txt 
[alice@compute-123 ]$ getfacl shared-data.txt
# file: shared-data.txt
# owner: alice
# group: users
user::rw-
user:bob:rw-
group::r--
mask::rwx
other::r--
</code></pre><pre><span></span><code>[alice@compute-123 ~]$ mkdir shared
[alice@compute-123 ]$ setfacl -m user:bob:rwx shared
[alice@compute-123 ]$ getfacl shared
# file: shared
# owner: alice
# group: users
user::rwx
user:bob:rwx
group::r-x
mask::rwx
other::r-x
Now the user bob can copy or save files in the “shared” directory.
</code></pre><pre><span></span><code>[[alice@compute-123 ~]$ setfacl -d -m user:bob:rwx shared
[alice@compute-123 ]$ getfacl shared
# file: shared
# owner: alice
# group: users
user::rwx
user:bob:rwx
group::r-x
mask::rwx
other::r-x
default:user::rwx
default:user:bob:rwx
default:group::--x
default:mask::rwx
default:other::r-x
If you want to remove and ACL, you can use the “-x” option to setfacl.

[alice@compute-123 ]$ setfacl -x user:bob shared
[alice@compute-123 ]$ getfacl shared
# file: shared
# owner: alice
# group: users
user::rwx
group::r-x
mask::r-x
other::r-x
</code></pre><h2><a class="heading" href="../files/archive-files">Archive Files</a></h2><a class="url" href="../files/archive-files">files/archive-files/</a><pre><span></span><code>cd /dcs05/mygroup/data/trial5/experiment8/
tar -cf /dcs07/mygroup/my-tar-file.tar some-directory other-dir2 file9
</code></pre><pre><span></span><code>cd /dcs05/mygroup/data/trial5/experiment8/
tar -cf /dcs07/mygroup/my-tar-file.tar --use-compress-program="pigz -k -p4" some-large-directory
</code></pre><pre><span></span><code>tar -tzf compressed-archive.tgz | less
tar -xvzf compressed-archive.tgz
</code></pre><pre><span></span><code>tar -tf somearchive.tar &gt; mylisting.txt
less mylisting.txt
tar -xvf somearchive.tar "file1" "file2"
</code></pre><pre><span></span><code>tar -xvf somearchive.tar --wildcards '*.php'
</code></pre><pre><span></span><code>find /usr/bin/ -exec file {} \; | grep Perl
</code></pre><pre><span></span><code>find mydir -type d -name .cache -print0 | xargs -0 du -sh &gt; /tmp/cache-list.txt
less /tmp/cache-list.txt
</code></pre><pre><span></span><code>find mydir -type f -name \*.o -print0 | xargs --null -I{} mv {} {}.DELETEME
</code></pre><pre><span></span><code>touch -t 201909111200 911-noon
find somedirofmine -newer 911-noon -print0
</code></pre><pre><span></span><code>find . \( \( -type d -name Library -prune \) -o \( -type d -name .dropbox -prune \) \) -o -newer 911 -depth 4 -print0 
</code></pre><h2><a class="heading" href="../files/copying-files">Copying within cluster</a></h2><a class="url" href="../files/copying-files">files/copying-files/</a><pre><span></span><code>tar -cbf 20480 - some-directory | (cd /destination/place; tar -xbf 20480 -)
</code></pre><pre><span></span><code>tar -cbf 20480 - some-directory | ssh myaccount@another-host (cd /destination/place; tar -xbf 20480 -)"
</code></pre><h2><a class="heading" href="../files/deep-paths">Navigating Deep Directory Trees</a></h2><a class="url" href="../files/deep-paths">files/deep-paths/</a><pre><span></span><code>lrwxr-xr-x<span class="w">  </span><span class="m">1</span><span class="w"> </span>tunison<span class="w">  </span>wheel<span class="w">  </span><span class="m">8</span><span class="w"> </span>Jan<span class="w"> </span><span class="m">11</span><span class="w"> </span><span class="m">10</span>:12<span class="w"> </span>newname@<span class="w"> </span>-&gt;<span class="w"> </span>realfile
-rw-r--r--<span class="w">  </span><span class="m">1</span><span class="w"> </span>tunison<span class="w">  </span>wheel<span class="w">  </span><span class="m">0</span><span class="w"> </span>Jan<span class="w"> </span><span class="m">11</span><span class="w"> </span><span class="m">10</span>:11<span class="w"> </span>realfile
</code></pre><pre><span></span><code>mkdir<span class="w"> </span>~/r
<span class="nb">cd</span><span class="w"> </span>~/r
ln<span class="w"> </span>–s<span class="w"> </span>/cms01/data/puf-free/VERICRED/2019<span class="w"> </span>v2019
ln<span class="w"> </span>–s<span class="w"> </span>/cms01/incoming/c-myjhed-98765<span class="w"> </span><span class="k">in</span>
ln<span class="w"> </span>–s<span class="w"> </span>~/mycode/thatlanguage/src/yes-i-wrote-it<span class="w"> </span>pride-n-joy
</code></pre><pre><span></span><code>alias dirs='dirs -v'
alias pu='pushd'
alias po='popd'
</code></pre><pre><span></span><code>for i in /cms01/data /cms01/outgoing /users/55548 /cms01/incoming; do pushd -n $i 1&gt;/dev/null;done
</code></pre><pre><span></span><code><span class="o">[</span>~<span class="o">]</span>$<span class="w"> </span><span class="nb">source</span><span class="w"> </span>.bashrc

<span class="o">[</span>~<span class="o">]</span>$<span class="w"> </span><span class="nb">dirs</span>
~<span class="w"> </span>/cms01/incoming<span class="w"> </span>/users/55548<span class="w"> </span>/cms01/outgoing<span class="w"> </span>/cms01/data

<span class="o">[</span>~<span class="o">]</span>$<span class="w"> </span><span class="nb">pushd</span><span class="w"> </span>+2
/users/55548<span class="w"> </span>/cms01/outgoing<span class="w"> </span>/cms01/data<span class="w"> </span>~<span class="w"> </span>/cms01/incoming

<span class="o">[</span><span class="m">55548</span><span class="o">]</span>$<span class="w"> </span><span class="nb">pwd</span>
/users/55548

<span class="o">[</span><span class="m">55548</span><span class="o">]</span>$<span class="w"> </span><span class="nb">dirs</span><span class="w"> </span>-v
<span class="w"> </span><span class="m">0</span><span class="w">  </span>/users/55548
<span class="w"> </span><span class="m">1</span><span class="w">  </span>/cms01/outgoing
<span class="w"> </span><span class="m">2</span><span class="w">  </span>/cms01/data
<span class="w"> </span><span class="m">3</span><span class="w">  </span>~
<span class="w"> </span><span class="m">4</span><span class="w">  </span>/cms01/incoming
</code></pre><h2><a class="heading" href="../files/encfs">Encrypting filesystems with ENCFS</a></h2><a class="url" href="../files/encfs">files/encfs/</a><pre><span></span><code>[jhpce01 /users/bob]$ srun --pty --x11 bash
Last login: Thu Nov  3 14:33:05 2016 from jhpce01.cm.cluster
[compute-070 /users/bob]$ mkdir ENCRYPTED
[compute-070 /users/bob]$ mkdir UNENCRYPTED
</code></pre><pre><span></span><code>[compute-070 /users/bob/]$ module load encfs
[compute-070 /users/bob/]$ 
encfs /users/bob/ENCRYPTED /users/bob/UNENCRYPTED
Creating new encrypted volume.
Please choose from one of the following options:
 enter "x" for expert configuration mode,
 enter "p" for pre-configured paranoia mode,
 anything else, or an empty line will select standard mode.
?&gt; (just hit enter here)

Standard configuration selected.

Configuration finished.  The filesystem to be created has
the following properties:
Filesystem cipher: "ssl/aes", version 3:0:2
Filename encoding: "nameio/block", version 3:0:1
Key Size: 192 bits
Block Size: 1024 bytes
Each file contains 8 byte header with unique IV data.
Filenames encoded using IV chaining mode.
File holes passed through to ciphertext.

Now you will need to enter a password for your filesystem.
You will need to remember this password, as there is absolutely
no recovery mechanism.  However, the password can be changed
later using encfsctl.

New Encfs Password: (enter password)
Verify Encfs Password: (re-enter password)
[compute-070 /users/bob]$ df -h
...
encfs                  50T   17T   33T  34% /users/bob/UNENCRYPTED
</code></pre><pre><span></span><code>[compute-070 /users/bob]$ ls ENCRYPTED
[compute-070 /users/bob]$ ls UNENCRYPTED
[compute-070 /users/bob]$ cd UNENCRYPTED
[compute-070 /users/bob/UNENCRYPTED]$ echo "This is a test" &gt; file1
[compute-070 /users/bob/UNENCRYPTED]$ cd ..
[compute-070 /users/bob]$ ls -l UNENCRYPTED
-rw-r----- 1 bob mmi 15 Jan 27 16:34 file1
[compute-070 /users/bob]$ ls -l ENCRYPTED
-rw-r----- 1 bob mmi   23 Jan 27 16:34 Fng4AKmAzYP6OrpOrCPH3J,x
[compute-070 /users/bob]$ cat UNENCRYPTED/file1
This is a test
[compute-070 /users/bob]$ cat ENCRYPTED/Fng4AKmAzYP6OrpOrCPH3J,x 
?tS?$??#?q?%o띁?
[compute-070 /users/bob]$ fusermount -u /users/bob/UNENCRYPTED
[compute-070 /users/bob]$ ls -l UNENCRYPTED
[compute-070 /users/bob]$ ls -l ENCRYPTED
-rw-r----- 1 bob mmi   23 Jan 27 16:34 Fng4AKmAzYP6OrpOrCPH3J,x
[compute-070 /users/bob]$ exit
Connection to compute-070.cm.cluster closed.
</code></pre><pre><span></span><code>[jhpce01 /users/bob]$ srun --pty --x11 bash
Last login: Fri Jan 27 16:10:27 2017 from jhpce01.cm.cluster
[compute-097 /users/bob]$ ls -l UNENCRYPTED
[compute-097 /users/bob]$ ls -l ENCRYPTED
-rw-r----- 1 bob mmi   23 Jan 27 16:34 Fng4AKmAzYP6OrpOrCPH3J,x
[compute-097 /users/bob]$ module load encfs
[compute-097 /users/bob]$ 
encfs /users/bob/ENCRYPTED /users/bob/UNENCRYPTED
EncFS Password: (reenter the password you used to encrypt the data)
[compute-097 /users/bob]$ ls -l UNENCRYPTED
-rw-r----- 1 bob mmi 15 Jan 27 16:34 file1
[compute-097 /users/bob]$ cd UNENCRYPTED
[compute-097 /users/bob/UNENCRYPTED]$ cat file1
This is a test
</code></pre><pre><span></span><code>[compute-097 /users/bob/UNENCRYPTED]$ cd ..
[compute-097 /users/bob]$ fusermount -u /users/bob/UNENCRYPTED
[compute-097 /users/bob]$ ls -l /users/bob/UNENCRYPTED
[compute-097 /users/bob]$ ls -l ENCRYPTED
-rw-r----- 1 bob mmi   23 Jan 27 16:34 Fng4AKmAzYP6OrpOrCPH3J,x
[compute-097 /users/bob]$ exit
Connection to compute-097.cm.cluster closed.
</code></pre><pre><span></span><code>[jhpce01 /users/bob]$ srun --pty --x11 bash
Last login: Fri Jan 27 17:12:11 2017 from jhpce01.cm.cluster
[compute-108 /users/bob]$ module load encfs
[compute-108 /users/bob]$ 
encfs /users/bob/ENCRYPTED /users/bob/UNENCRYPTED
EncFS Password: (reenter the password you used to encrypt the data)
[compute-108 /users/bob]$ setfacl -m user:chuck:rx .
[compute-108 /users/bob]$ setfacl -m user:chuck:rwx UNENCRYPTED
</code></pre><pre><span></span><code>[jhpce01 /users/chuck]$ srun --pty --x11 bash
Last login: Fri Jan 27 15:44:11 2017 from jhpce01.cm.cluster
[compute-049 /users/chuck]$ module load encfs
[compute-049 /users/chuck]$ mkdir UNENCRYPTED
[compute-049 /users/chuck]$ 
encfs /users/bob/ENCRYPTED /users/chuck/UNENCRYPTED
EncFS Password: (reenter the password you used to encrypt the data)
[compute-049 /users/chuck]$ cd UNENCRYPTED
[compute-049 /users/chuck/UNENCRYPTED]$ ls -l
-rw-r----- 1 bob mmi 15 Jan 27 16:34 file1
[compute-049 /users/chuck/UNENCRYPTED]$ echo "This is chuck" &gt; file2
[compute-049 /users/chuck/UNENCRYPTED]$ ls -l
-rw-r----- 1 bob   mmi 15 Jan 27 16:34 file1
-rw-r----- 1 chuck mmi 14 Jan 27 17:24 file2
</code></pre><pre><span></span><code>[compute-108 /users/bob]$ ls -l /users/bob/UNENCRYPTED
-rw-r----- 1 bob   mmi 15 Jan 27 16:34 file1
-rw-r----- 1 chuck mmi 15 Jan 27 17:24 file2
</code></pre><pre><span></span><code>[compute-108 /users/bob]$ fusermount -u /users/bob/UNENCRYPTED
[compute-108 /users/bob]$ exit
</code></pre><pre><span></span><code>[compute-049 /users/chuck/UNENCRYPTED]$ cd ..
[compute-049 /users/chuck] fusermount -u /users/chuck/UNENCRYPTED
[compute-049 /users/chuck] exit
</code></pre><h2><a class="heading" href="../files/files-overview">Files Overview</a></h2><a class="url" href="../files/files-overview">files/files-overview/</a><pre><span></span><code>getconf NAME_MAX /
getconf PATH_MAX /
</code></pre><h2><a class="heading" href="../files/rsync-itemize-manpage">Itemize Manual Page</a></h2><a class="url" href="../files/rsync-itemize-manpage">files/rsync-itemize-manpage/</a><pre><span></span><code>The  "%i"  escape  has a cryptic output that is 11 letters long.
The general format is like the string YXcstpoguax,  where  Y  is
replaced  by the type of update being done, X is replaced by the
file-type, and the other letters represent attributes  that  may
be output if they are being modified.

The update types that replace the Y are as follows:

o      A  &lt; means that a file is being transferred to the remote
       host (sent).

o      A &gt; means that a file is being transferred to  the  local
       host (received).

o      A  c  means that a local change/creation is occurring for
       the item (such as the creation  of  a  directory  or  the
       changing of a symlink, etc.).

o      A  h  means  that the item is a hard link to another item
       (requires --hard-links).

o      A . means that the item is not being updated  (though  it
       might have attributes that are being modified).

o      A  * means that the rest of the itemized-output area con‐
       tains a message (e.g. "deleting").

The file-types that replace the X are: f for a file, a d  for  a
directory,  an  L for a symlink, a D for a device, and a S for a
special file (e.g. named sockets and fifos).

The other letters in the string indicate if some  attributes  of
the file have changed, as follows:

o      "." - the attribute is unchanged.

o      "+" - the file is newly created.

o      " "  - all the attributes are unchanged (all dots turn to
       spaces).

o      "?" - the change is unknown (when  the  remote  rsync  is
       old).

o      A letter indicates an attribute is being updated.

The attribute that is associated with each letter is as follows:

o      A  c  means  either  that  a regular file has a different
       checksum (requires --checksum) or that a symlink, device,
       or  special  file  has a changed value.  Note that if you
       are sending files to an rsync prior to 3.0.1, this change
       flag  will be present only for checksum-differing regular
       files.

o      A s means the size of a regular  file  is  different  and
       will be updated by the file transfer.

o      A t means the modification time is different and is being
       updated to the sender's value (requires --times).  An al‐
       ternate  value of T means that the modification time will
       be set  to  the  transfer  time,  which  happens  when  a
       file/symlink/device is updated without --times and when a
       symlink is changed and the receiver can't set  its  time.
       (Note:  when  using  an rsync 3.0.0 client, you might see
       the s flag combined with t instead of the proper  T  flag
       for this time-setting failure.)

o      A p means the permissions are different and are being up‐
       dated to the sender's value (requires --perms).

o      An o means the owner is different and is being updated to
       the sender's value (requires --owner and super-user priv‐
       ileges).

o      A g means the group is different and is being updated  to
       the sender's value (requires --group and the authority to
       set the group).

o      A u|n|b indicates the following information: u  means the
       access  (use)  time  is different and is being updated to
       the sender's value (requires --atimes); n means the  cre‐
       ate  time  (newness) is different and is being updated to
       the sender's value (requires  --crtimes);  b  means  that
       both the access and create times are being updated.

o      The a means that the ACL information is being changed.

o      The  x  means  that the extended attribute information is
       being changed.

One other output is possible: when deleting files, the "%i" will output  the  string  "*deleting" for each item that is being removed (assuming that you are talking to a  recent  enough  rsync that  it  logs deletions instead of outputting them as a verbose message).
</code></pre><h2><a class="heading" href="../files/rsync-itemize-table">Itemize Output Key</a></h2><a class="url" href="../files/rsync-itemize-table">files/rsync-itemize-table/</a><pre><span></span><code>  YXcstpoguax  path/to/file
  |||||||||||
  `-------------------------- the TYPE OF UPDATE:
   ||||||||||   &lt;: file is being transferred to the remote host (sent).
   ||||||||||   &gt;: file is being transferred to the local host (received).
   ||||||||||   c: local change/creation for the item, such as:
   ||||||||||      - the creation of a directory
   ||||||||||      - the changing of a symlink,
   ||||||||||      - etc.
   ||||||||||   h: the item is a hard link to another item (requires --hard-links). 
   ||||||||||   "+" - the file is newly created
   ||||||||||   .: the item is not being updated (though it might have attributes that are being modified).
   ||||||||||   *: means that the rest of the itemized-output area contains a message (e.g. "deleting").
   ||||||||||
   `----------------------------- the FILE TYPE:
    |||||||||   f for a file,
    |||||||||   d for a directory,
    |||||||||   L for a symlink,
    |||||||||   D for a device,
    |||||||||   S for a special file (e.g. named sockets and fifos).
    |||||||||
    `--------- c: different checksum (for regular files)
     ||||||||     CHANGED VALUE (for symlink, device, and special file)
     `-------- s: Size is different
      `------- t: Modification time is different
       `------ p: Permission are different
        `----- o: Owner is different
         `---- g: Group is different
          `--- u: The u slot is reserved for future use.
           `-- a: The ACL information changed
</code></pre><h2><a class="heading" href="../files/rsync">Using Rsync</a></h2><a class="url" href="../files/rsync">files/rsync/</a><pre><span></span><code>rsync -a --verbose --dry-run --stats /local1 /other2
</code></pre><pre><span></span><code>rsync -a --verbose --dry-run --stats --itemize-changes /local1 /other2
</code></pre><pre><span></span><code>rsync -avz --include='*.txt' /src /dest
</code></pre><pre><span></span><code>rsync -avhAXH --progress --numeric-ids --sparse --one-file-system --stats --delete-after
</code></pre><pre><span></span><code>--archive, -a            archive mode; equals -rlptgoD (no -H,-A,-X)

--acls, -A               preserve ACLs (implies --perms)
--xattrs, -X             preserve extended attributes
--hard-links, -H                       preserve hard links

--exclude-from={'list.txt'}.        there is a corresponding --include-from
--exclude={'*.txt','dir3','dir4'}   there is a corresponding --include

--dry-run, -n            perform a trial run with no changes made
--list-only              list the files instead of copying them
--ignore-existing        don't overwrite existing files, no matter what
--max-delete=NUM         don't delete more than NUM files (SET TO 0 OR LOW NUMBER FOR SAFETY)
--one-file-system, -x    ensure that you stay inside the SRC file system 

--atimes -U              preserve access (use) times
--crtimes, -N            preserve create times (newness)
--times, -t              preserve modification times

--numeric-ids            don't map uid/gid values by user/group name (more efficient)
--delete-after           wait until end to process deletes (much more efficient than deleting during)
--partial                allows you to resume an interrupted transfer

--progress               show which file is being copied (not stored in log file!!)
--itemize-changes, -i    output a change-summary for all updates 
                         has complex output. (see below for a link)
--log-file=FILE          useful when using --itemize
--verbose, -v            increase verbosity
--info=FLAGS             fine-grained informational verbosity
--human-readable, -h     output numbers in a human-readable format
--stats                  provide statistics at the end

--size-only              skip files that match in size (know what you're doing)
--ignore-times, -I       don't skip files that match size and time (when in doubt...)
--checksum -c            skip based on checksums, not mod-time &amp; size

--sparse                 turn sequences of nulls into sparse blocks
--bwlimit                limit the impact of the rsync on the network (in kb/sec)

--chmod=CHMOD            affect file and/or directory permissions
--usermap=STRING         custom username mapping 
--groupmap=STRING        custom groupname mapping (STRING is not simply
--chown=USER:GROUP       simple username/groupname mapping 
</code></pre><pre><span></span><code>tar -cbf 20480 - some-directory | (cd /destination/place; tar -xbf 20480 -)
</code></pre><pre><span></span><code>tar -cbf 20480 - some-directory | ssh myaccount@another-host (cd /destination/place; tar -xbf 20480 -)"
</code></pre><h2><a class="heading" href="../files/sharing-files">Sharing Files</a></h2><a class="url" href="../files/sharing-files">files/sharing-files/</a><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>into-the-top-of-the-directory-tree
find<span class="w"> </span>.<span class="w"> </span>-type<span class="w"> </span>d<span class="w"> </span><span class="p">|</span><span class="w"> </span>xargs<span class="w"> </span>chmod<span class="w"> </span>u+rwx,g+rwx,g+s,o-rwx
find<span class="w"> </span>.<span class="w"> </span>-type<span class="w"> </span>f<span class="w"> </span><span class="p">|</span><span class="w"> </span>xargs<span class="w"> </span>chmod<span class="w"> </span>u+rwx,g+rw,o-rwx
</code></pre><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>into-the-top-of-the-directory-tree
find<span class="w"> </span>.<span class="w"> </span>-type<span class="w"> </span>d<span class="w"> </span>-print0<span class="w"> </span><span class="p">|</span><span class="w"> </span>xargs<span class="w"> </span>--null<span class="w"> </span>chmod<span class="w"> </span>u+rwx,g+rwx,g+s,o-rwx
find<span class="w"> </span>.<span class="w"> </span>-type<span class="w"> </span>f<span class="w"> </span>-print0<span class="w"> </span><span class="p">|</span><span class="w"> </span>xargs<span class="w"> </span>--null<span class="w"> </span>chmod<span class="w"> </span>u+rwx,g+rw,o-rwx
</code></pre><pre><span></span><code>jhpcecms01:/users/55548/shared# ls -l
drwxrwsrwx  7 c-jlevy33-55548  c-55548  7 Dec  5 11:10 biosim_leverage/
drwxr-s---  3 c-eblasco1-55548 c-55548  3 Feb  1 14:00 c-eblasco1-55548/
drwxr-s---  7 c-tbrow261-10201 c-55548  9 Dec 20 12:17 Elixhauser/
drwxr-s---  3 c-ttotoja1-55548 c-55548  3 Feb 16 16:09 forOwen/
drwxrwxr-x 16 c-jxu123-10201   c-55548 22 Jul 15  2023 from-yoda/
drwxrwsrwx  7 c-jlevy33-55548  c-55548  7 Feb  7 10:54 hipfracture_adrd/
drwxr-s---  7 c-jlevy33-55548  c-55548  7 Dec 20 14:03 levy_partd/
drwxr-s---  2 c-aliu63-55548   c-55548  6 Feb 19 16:39 MA_partB/
drwxr-s---  2 c-aliu63-55548   c-55548  5 Dec 15 14:03 MA_switching/
drwxr-s--- 10 c-rwu32-55548    c-55548 13 Nov  8 10:31 mltss_duals/
drwxrws---  4 c-yyang279-55548 c-55548  4 Nov 30 10:13 shen_yang/
drwxr-s---  2 c-ykuang6-55548  c-55548  4 Jan 30 12:13 test/
drwxr-s---  2 c-jlevy33-55548  c-55548  3 Aug 29 15:19 toofull/
</code></pre><h2><a class="heading" href="../gpu/alphafold">Alphafold</a></h2><a class="url" href="../gpu/alphafold">gpu/alphafold/</a><pre><span></span><code><span class="o">[</span>login31<span class="w"> </span>/users/mmill116/alpha1<span class="o">]</span>$<span class="w"> </span>srun<span class="w"> </span>--pty<span class="w"> </span>--x11<span class="w"> </span>--mem<span class="o">=</span>100G<span class="w"> </span>--cpus-per-task<span class="o">=</span><span class="m">8</span><span class="w"> </span>--partition<span class="w"> </span>gpu<span class="w"> </span>--gpus<span class="o">=</span><span class="m">1</span><span class="w"> </span>bash
<span class="o">[</span>compute-126<span class="w"> </span>/users/mmill116/alpha1<span class="o">]</span>$<span class="w"> </span>module<span class="w"> </span>load<span class="w"> </span>alphafold
<span class="o">(</span>alphafold-gpu<span class="o">)</span><span class="w"> </span><span class="o">[</span>compute-126<span class="w"> </span>/users/mmill116/alpha1<span class="o">]</span>$<span class="w"> </span>nvidia-smi<span class="w">    </span><span class="o">(</span>this<span class="w"> </span>is<span class="w"> </span>to<span class="w"> </span>verify<span class="w"> </span>that<span class="w"> </span>you<span class="w"> </span>are<span class="w"> </span>assigned<span class="w"> </span>a<span class="w"> </span>GPU<span class="o">)</span>
<span class="o">(</span>alphafold-gpu<span class="o">)</span><span class="w"> </span><span class="o">[</span>compute-126<span class="w"> </span>/users/mmill116/alpha1<span class="o">]</span>$<span class="w"> </span>ls
query.fasta
<span class="o">(</span>alphafold-gpu<span class="o">)</span><span class="w"> </span><span class="o">[</span>compute-126<span class="w"> </span>/users/mmill116/alpha1<span class="o">]</span>$<span class="w"> </span>cat<span class="w"> </span>query.fasta
&gt;dummy_sequence
GWSTELEKHREELKEFLKKEGITNVEIRIDNGRLEVRVEGGTERLKRFLEELRQKLEKKGYTVDIKIE
<span class="o">(</span>alphafold-gpu<span class="o">)</span><span class="w"> </span><span class="o">[</span>compute-126<span class="w"> </span>/users/mmill116/alpha1<span class="o">]</span>$<span class="w"> </span>run_alphafold.sh<span class="w"> </span>-d<span class="w"> </span>/legacy/alphafold/data<span class="w"> </span>-o<span class="w"> </span>.<span class="w"> </span>-f<span class="w"> </span>query.fasta<span class="w">  </span>-t<span class="w"> </span><span class="m">2020</span>-05-14<span class="w"> </span>-n<span class="w"> </span><span class="m">8</span>
I0305<span class="w"> </span><span class="m">14</span>:37:51.029889<span class="w"> </span><span class="m">140001535510336</span><span class="w"> </span>templates.py:857<span class="o">]</span><span class="w"> </span>Using<span class="w"> </span>precomputed<span class="w"> </span>obsolete<span class="w"> </span>pdbs<span class="w"> </span>/legacy/alphafold/data/pdb_mmcif/obsolete.dat.
I0305<span class="w"> </span><span class="m">14</span>:37:52.841140<span class="w"> </span><span class="m">140001535510336</span><span class="w"> </span>xla_bridge.py:353<span class="o">]</span><span class="w"> </span>Unable<span class="w"> </span>to<span class="w"> </span>initialize<span class="w"> </span>backend<span class="w"> </span><span class="s1">'tpu_driver'</span>:<span class="w"> </span>NOT_FOUND:<span class="w"> </span>Unable<span class="w"> </span>to<span class="w"> </span>find<span class="w"> </span>driver<span class="w"> </span><span class="k">in</span><span class="w"> </span>registry<span class="w"> </span>given<span class="w"> </span>worker:<span class="w"> </span>
I0305<span class="w"> </span><span class="m">14</span>:37:52.984758<span class="w"> </span><span class="m">140001535510336</span><span class="w"> </span>xla_bridge.py:353<span class="o">]</span><span class="w"> </span>Unable<span class="w"> </span>to<span class="w"> </span>initialize<span class="w"> </span>backend<span class="w"> </span><span class="s1">'rocm'</span>:<span class="w"> </span>NOT_FOUND:<span class="w"> </span>Could<span class="w"> </span>not<span class="w"> </span>find<span class="w"> </span>registered<span class="w"> </span>platform<span class="w"> </span>with<span class="w"> </span>name:<span class="w"> </span><span class="s2">"rocm"</span>.<span class="w"> </span>Available<span class="w"> </span>platform<span class="w"> </span>names<span class="w"> </span>are:<span class="w"> </span>Interpreter<span class="w"> </span>CUDA<span class="w"> </span>Host

.<span class="w"> </span>.<span class="w"> </span>.

I0305<span class="w"> </span><span class="m">15</span>:27:23.305634<span class="w"> </span><span class="m">140001535510336</span><span class="w"> </span>amber_minimize.py:178<span class="o">]</span><span class="w"> </span>alterations<span class="w"> </span>info:<span class="w"> </span><span class="o">{</span><span class="s1">'nonstandard_residues'</span>:<span class="w"> </span><span class="o">[]</span>,<span class="w"> </span><span class="s1">'removed_heterogens'</span>:<span class="w"> </span>set<span class="o">()</span>,<span class="w"> </span><span class="s1">'missing_residues'</span>:<span class="w"> </span><span class="o">{}</span>,<span class="w"> </span><span class="s1">'missing_heavy_atoms'</span>:<span class="w"> </span><span class="o">{}</span>,<span class="w"> </span><span class="s1">'missing_terminals'</span>:<span class="w"> </span><span class="o">{}</span>,<span class="w"> </span><span class="s1">'Se_in_MET'</span>:<span class="w"> </span><span class="o">[]</span>,<span class="w"> </span><span class="s1">'removed_chains'</span>:<span class="w"> </span><span class="o">{</span><span class="m">0</span>:<span class="w"> </span><span class="o">[]}}</span>
I0305<span class="w"> </span><span class="m">15</span>:27:23.643896<span class="w"> </span><span class="m">140001535510336</span><span class="w"> </span>amber_minimize.py:500<span class="o">]</span><span class="w"> </span>Iteration<span class="w"> </span>completed:<span class="w"> </span>Einit<span class="w"> </span><span class="m">1628</span>.92<span class="w"> </span>Efinal<span class="w"> </span>-2082.65<span class="w"> </span>Time<span class="w"> </span><span class="m">0</span>.49<span class="w"> </span>s<span class="w"> </span>num<span class="w"> </span>residue<span class="w"> </span>violations<span class="w"> </span><span class="m">0</span><span class="w"> </span>num<span class="w"> </span>residue<span class="w"> </span>exclusions<span class="w"> </span><span class="m">0</span><span class="w"> </span>
I0305<span class="w"> </span><span class="m">15</span>:27:23.721792<span class="w"> </span><span class="m">140001535510336</span><span class="w"> </span>run_alphafold.py:277<span class="o">]</span><span class="w"> </span>Final<span class="w"> </span>timings<span class="w"> </span><span class="k">for</span><span class="w"> </span>query:<span class="w"> </span><span class="o">{</span><span class="s1">'features'</span>:<span class="w"> </span><span class="m">2523</span>.1148357391357,<span class="w"> </span><span class="s1">'process_features_model_1_pred_0'</span>:<span class="w"> </span><span class="m">2</span>.198369026184082,<span class="w"> </span><span class="s1">'predict_and_compile_model_1_pred_0'</span>:<span class="w"> </span><span class="m">92</span>.24924182891846,<span class="w"> </span><span class="s1">'relax_model_1_pred_0'</span>:<span class="w"> </span><span class="m">5</span>.6730005741119385,<span class="w"> </span><span class="s1">'process_features_model_2_pred_0'</span>:<span class="w"> </span><span class="m">1</span>.1774885654449463,<span class="w"> </span><span class="s1">'predict_and_compile_model_2_pred_0'</span>:<span class="w"> </span><span class="m">95</span>.11810064315796,<span class="w"> </span><span class="s1">'relax_model_2_pred_0'</span>:<span class="w"> </span><span class="m">3</span>.1857430934906006,<span class="w"> </span><span class="s1">'process_features_model_3_pred_0'</span>:<span class="w"> </span><span class="m">0</span>.9210422039031982,<span class="w"> </span><span class="s1">'predict_and_compile_model_3_pred_0'</span>:<span class="w"> </span><span class="m">74</span>.00832223892212,<span class="w"> </span><span class="s1">'relax_model_3_pred_0'</span>:<span class="w"> </span><span class="m">3</span>.2094907760620117,<span class="w"> </span><span class="s1">'process_features_model_4_pred_0'</span>:<span class="w"> </span><span class="m">0</span>.9562208652496338,<span class="w"> </span><span class="s1">'predict_and_compile_model_4_pred_0'</span>:<span class="w"> </span><span class="m">73</span>.54764223098755,<span class="w"> </span><span class="s1">'relax_model_4_pred_0'</span>:<span class="w"> </span><span class="m">3</span>.2828869819641113,<span class="w"> </span><span class="s1">'process_features_model_5_pred_0'</span>:<span class="w"> </span><span class="m">0</span>.9843571186065674,<span class="w"> </span><span class="s1">'predict_and_compile_model_5_pred_0'</span>:<span class="w"> </span><span class="m">72</span>.18165755271912,<span class="w"> </span><span class="s1">'relax_model_5_pred_0'</span>:<span class="w"> </span><span class="m">3</span>.2641286849975586<span class="o">}</span>

<span class="o">(</span>alphafold-gpu<span class="o">)</span><span class="w"> </span><span class="o">[</span>compute-126<span class="w"> </span>/users/mmill116/alpha1<span class="o">]</span>$<span class="w"> </span>ls
query<span class="w">  </span>query.fasta
<span class="o">(</span>alphafold-gpu<span class="o">)</span><span class="w"> </span><span class="o">[</span>compute-126<span class="w"> </span>/users/mmill116/alpha1<span class="o">]</span>$<span class="w"> </span>ls<span class="w"> </span>query
features.pkl<span class="w">  </span>ranked_2.pdb<span class="w">        </span>relaxed_model_1_pred_0.pdb<span class="w">  </span>relaxed_model_5_pred_0.pdb<span class="w">  </span>result_model_3_pred_0.pkl<span class="w">  </span>unrelaxed_model_1_pred_0.pdb<span class="w">  </span>unrelaxed_model_5_pred_0.pdb
msas<span class="w">          </span>ranked_3.pdb<span class="w">        </span>relaxed_model_2_pred_0.pdb<span class="w">  </span>relax_metrics.json<span class="w">          </span>result_model_4_pred_0.pkl<span class="w">  </span>unrelaxed_model_2_pred_0.pdb
ranked_0.pdb<span class="w">  </span>ranked_4.pdb<span class="w">        </span>relaxed_model_3_pred_0.pdb<span class="w">  </span>result_model_1_pred_0.pkl<span class="w">   </span>result_model_5_pred_0.pkl<span class="w">  </span>unrelaxed_model_3_pred_0.pdb
ranked_1.pdb<span class="w">  </span>ranking_debug.json<span class="w">  </span>relaxed_model_4_pred_0.pdb<span class="w">  </span>result_model_2_pred_0.pkl<span class="w">   </span>timings.json<span class="w">               </span>unrelaxed_model_4_pred_0.pdb
</code></pre><pre><span></span><code>[login31 /users/mmill116/alpha1]$ srun --pty --x11 --mem=100G --cpus-per-task=8 bash
[compute-129 /users/mmill116/alpha2]$ module load alphafold
(alphafold-gpu) [compute-129 /users/mmill116/alpha2]$ ls
query.fasta
(alphafold-gpu) [compute-129 /users/mmill116/alpha2]$ cat query.fasta
&gt;dummy_sequence
GWSTELEKHREELKEFLKKEGITNVEIRIDNGRLEVRVEGGTERLKRFLEELRQKLEKKGYTVDIKIE
(alphafold-gpu) [compute-129 /users/mmill116/alpha2]$ run_alphafold.sh -d /legacy/alphafold/data -o . -f query.fasta  -t 2020-05-14 -n 8 -g False
I0305 14:57:32.565061 140585066018624 templates.py:857] Using precomputed obsolete pdbs /legacy/alphafold/data/pdb_mmcif/obsolete.dat.
I0305 14:57:34.727731 140585066018624 xla_bridge.py:353] Unable to initialize backend 'tpu_driver': NOT_FOUND: Unable to find driver in registry given worker: 
2024-03-05 14:57:34.729707: W external/org_tensorflow/tensorflow/tsl/platform/default/dso_loader.cc:66] Could not load dynamic library 'libcuda.so.1'; dlerror: libcuda.so.1: cannot open shared object file: No such file or directory; LD_LIBRARY_PATH: /jhpce/shared/jhpce/core/JHPCE_tools/3.0/lib
2024-03-05 14:57:34.729740: W external/org_tensorflow/tensorflow/compiler/xla/stream_executor/cuda/cuda_driver.cc:265] failed call to cuInit: UNKNOWN ERROR (303)
I0305 14:57:34.730122 140585066018624 xla_bridge.py:353] Unable to initialize backend 'cuda': FAILED_PRECONDITION: No visible GPU devices.

. . .
I0305 16:54:48.980324 140585066018624 amber_minimize.py:408] Minimizing protein, attempt 1 of 100.
I0305 16:54:49.271893 140585066018624 amber_minimize.py:69] Restraining 574 / 1170 particles.
I0305 16:54:54.823270 140585066018624 amber_minimize.py:178] alterations info: {'nonstandard_residues': [], 'removed_heterogens': set(), 'missing_residues': {}, 'missing_heavy_atoms': {}, 'missing_terminals': {}, 'Se_in_MET': [], 'removed_chains': {0: []}}
I0305 16:54:55.044994 140585066018624 amber_minimize.py:500] Iteration completed: Einit 1776.57 Efinal -2114.81 Time 4.96 s num residue violations 0 num residue exclusions 0 
I0305 16:54:55.143276 140585066018624 run_alphafold.py:277] Final timings for query: {'features': 3216.2297768592834, 'process_features_model_1_pred_0': 6.108574390411377, 'predict_and_compile_model_1_pred_0': 821.0001108646393, 'relax_model_1_pred_0': 12.479053258895874, 'process_features_model_2_pred_0': 2.8280999660491943, 'predict_and_compile_model_2_pred_0': 780.6746006011963, 'relax_model_2_pred_0': 9.498374223709106, 'process_features_model_3_pred_0': 2.3144617080688477, 'predict_and_compile_model_3_pred_0': 732.0320601463318, 'relax_model_3_pred_0': 8.531827449798584, 'process_features_model_4_pred_0': 2.274519920349121, 'predict_and_compile_model_4_pred_0': 732.8238620758057, 'relax_model_4_pred_0': 9.743109226226807, 'process_features_model_5_pred_0': 2.1754395961761475, 'predict_and_compile_model_5_pred_0': 668.7868385314941, 'relax_model_5_pred_0': 8.610054969787598}
(alphafold-gpu) [compute-096 /users/mmill116/alpha2]$ ls
query  query.fasta
(alphafold-gpu) [compute-096 /users/mmill116/alpha2]$ ls query
features.pkl  ranked_1.pdb  ranked_4.pdb                relaxed_model_2_pred_0.pdb  relaxed_model_5_pred_0.pdb  result_model_2_pred_0.pkl  result_model_5_pred_0.pkl     unrelaxed_model_2_pred_0.pdb  unrelaxed_model_5_pred_0.pdb
msas          ranked_2.pdb  ranking_debug.json          relaxed_model_3_pred_0.pdb  relax_metrics.json          result_model_3_pred_0.pkl  timings.json                  unrelaxed_model_3_pred_0.pdb
ranked_0.pdb  ranked_3.pdb  relaxed_model_1_pred_0.pdb  relaxed_model_4_pred_0.pdb  result_model_1_pred_0.pkl   result_model_4_pred_0.pkl  unrelaxed_model_1_pred_0.pdb  unrelaxed_model_4_pred_0.pdb
</code></pre><pre><span></span><code>[login31 /users/mmill116]$ sacct -j 2907929 -o JobID,JobName,partition,AllocTres%40,MaxVMSize,MAXRSS,State%20 --units=G
JobID           JobName  Partition                                AllocTRES  MaxVMSize     MaxRSS                State 
------------ ---------- ---------- ---------------------------------------- ---------- ---------- -------------------- 
2907929            bash     shared     billing=102408,cpu=8,mem=100G,node=1                                  COMPLETED 
2907929.ext+     extern                billing=102408,cpu=8,mem=100G,node=1          0          0            COMPLETED 
2907929.0          bash                               cpu=8,mem=100G,node=1    100.96G     17.47G            COMPLETED 
[login31 /users/mmill116]$ sacct -j 2907783 -o JobID,JobName,partition,AllocTres%40,MaxVMSize,MAXRSS,State%20 --units=G
JobID           JobName  Partition                                AllocTRES  MaxVMSize     MaxRSS                State 
------------ ---------- ---------- ---------------------------------------- ---------- ---------- -------------------- 
2907783            bash        gpu billing=102410,cpu=8,gres/gpu:tesa100=1+                                  COMPLETED 
2907783.ext+     extern            billing=102410,cpu=8,gres/gpu:tesa100=1+          0          0            COMPLETED 
2907783.0          bash            cpu=8,gres/gpu:tesa100=1,gres/gpu=1,mem+    109.65G     34.30G            COMPLETED 
</code></pre><pre><span></span><code>[login31 /users/mmill116/alphafold]$ cat alpha1.sh
#!/bin/sh
#SBATCH --mem=100G
#SBATCH --cpus-per-task=8
#SBATCH --gpus=1
#SBATCH --partition=gpu

date
module load conda
conda activate alphafold-gpu
mkdir /tmp/mm-alphfold1 
run_alphafold.sh -d /legacy/alphafold/data -o /tmp/mm-alphfold1 -f ./test.fasta 
-t 2020-05-14 -n 8
date
</code></pre><pre><span></span><code>[login31 /users/mmill116/alphafold]$ sbatch --gres=gpu:tesa100:1 alpha1.sh
Submitted batch job 4679334
[login31 /users/mmill116/alphafold]$ squeue --me
             JOBID PARTITION     NAME     USER ST       TIME  NODES NODELIST(REASON)
           4679334       gpu alpha1.s mmill116  R       0:02      1 compute-126
[login31 /users/mmill116/alphafold]$ cat slurm-4679334.out
Thu Apr 18 03:20:24 PM EDT 2024
I0418 15:22:46.104061 140350337955648 templates.py:857] Using precomputed obsolete pdbs /legacy/alphafold/data/pdb_mmcif/obsolete.dat.
I0418 15:22:48.993710 140350337955648 xla_bridge.py:353] Unable to initialize backend 'tpu_driver': NOT_FOUND: Unable to find driver in registry given worker: 

 . . .

I0418 15:23:01.681938 140350337955648 run_alphafold.py:161] Predicting test
I0418 15:23:01.682810 140350337955648 jackhmmer.py:133] Launching subprocess "/jhpce/shared/jhpce/core/conda/miniconda3-23.3.1/envs/alphafold-gpu/bin/jackhmmer -o /dev/null -A /tmp/tmpfcl3sb6v/output.sto --noali --F1 0.0005 --F2 5e-05 --F3 5e-07 --incE 0.0001 -E 0.0001 --cpu 8 -N 1 ./test.fasta /legacy/alphafold/data/uniref90/uniref90.fasta"
I0418 15:23:01.998645 140350337955648 utils.py:36] Started Jackhmmer (uniref90.fasta) query
</code></pre><h2><a class="heading" href="../gpu/gpu-info">Using GPUs on JHPCE</a></h2><a class="url" href="../gpu/gpu-info">gpu/gpu-info/</a><pre><code>[login31 /users/mmill116]$ <strong>srun --pty --x11 --partition gpu --gpus=1 --mem=20G bash </strong>
[compute-117 /users/mmill116]$ <strong>nvidia-smi</strong> 
 Tue Nov 28 08:39:23 2023       
 +---------------------------------------------------------------------------------------+
 | NVIDIA-SMI 535.86.10              Driver Version: 535.86.10    CUDA Version: 12.2     |
 |-----------------------------------------+----------------------+----------------------+
 | GPU  Name                 Persistence-M | Bus-Id        Disp.A | Volatile Uncorr. ECC |
 | Fan  Temp   Perf          Pwr:Usage/Cap |         Memory-Usage | GPU-Util  Compute M. |
 |                                         |                      |               MIG M. |
 |=========================================+======================+======================|
 |   0  Tesla V100-PCIE-32GB           On  | 00000000:89:00.0 Off |                    0 |
 | N/A   41C    P0              28W / 250W |      0MiB / 32768MiB |      0%      Default |
 |                                         |                      |                  N/A |
 +-----------------------------------------+----------------------+----------------------+
 +---------------------------------------------------------------------------------------+
 | Processes:                                                                            |
 |  GPU   GI   CI        PID   Type   Process name                            GPU Memory |
 |        ID   ID                                                             Usage      |
 |=======================================================================================|
 |  No running processes found                                                           |
 +---------------------------------------------------------------------------------------+
</code></pre><pre><code>[login31 /users/mmill116]$ <strong>srun --pty --x11 --partition gpu --gres=gpu:titanv:1  bash</strong>
[compute-117 /users/mmill116]$ <strong>nvidia-smi</strong>
 Tue Nov 28 10:50:25 2023       
 +---------------------------------------------------------------------------------------+
 | NVIDIA-SMI 535.86.10              Driver Version: 535.86.10    CUDA Version: 12.2     |
 |-----------------------------------------+----------------------+----------------------+
 | GPU  Name                 Persistence-M | Bus-Id        Disp.A | Volatile Uncorr. ECC |
 | Fan  Temp   Perf          Pwr:Usage/Cap |         Memory-Usage | GPU-Util  Compute M. |
 |                                         |                      |               MIG M. |
 |=========================================+======================+======================|
 |   0  NVIDIA TITAN V                 On  | 00000000:B1:00.0 Off |                  N/A |
 | 28%   35C    P8              26W / 250W |      0MiB / 12288MiB |      0%      Default |
 |                                         |                      |                  N/A |
 +-----------------------------------------+----------------------+----------------------+
                                                                                          
 +---------------------------------------------------------------------------------------+
 | Processes:                                                                            |
 |  GPU   GI   CI        PID   Type   Process name                            GPU Memory |
 |        ID   ID                                                             Usage      |
 |=======================================================================================|
 |  No running processes found                                                           |
 +---------------------------------------------------------------------------------------+ 
</code></pre><pre><code>[login31 /users/mmill116]$ srun --pty --x11 --partition gpu --gpus=1 --mem=10G bash
[compute-117 /users/mmill116]$ python
Python 3.9.16 (main, Dec  8 2022, 00:00:00) 
[GCC 11.3.1 20221121 (Red Hat 11.3.1-4)] on linux
Type "help", "copyright", "credits" or "license" for more information.
&gt;&gt;&gt; import tensorflow as tf
2023-11-28 09:05:16.067766: I tensorflow/core/platform/cpu_feature_guard.cc:182] This TensorFlow binary is optimized to use available CPU instructions in performance-critical operations.
To enable the following instructions: AVX2 AVX512F FMA, in other operations, rebuild TensorFlow with the appropriate compiler flags.
2023-11-28 09:05:16.850666: W tensorflow/compiler/tf2tensorrt/utils/py_utils.cc:38] TF-TRT Warning: Could not find TensorRT
&gt;&gt;&gt; mnist = tf.keras.datasets.mnist
&gt;&gt;&gt; (x_train, y_train), (x_test, y_test) = mnist.load_data()
&gt;&gt;&gt; x_train, x_test = x_train / 255.0, x_test / 255.0
&gt;&gt;&gt; model = tf.keras.models.Sequential([
...   tf.keras.layers.Flatten(input_shape=(28, 28)),
...   tf.keras.layers.Dense(128, activation='relu'),
...   tf.keras.layers.Dropout(0.2),
...   tf.keras.layers.Dense(10)
... ])
2023-11-28 09:05:31.942590: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1639] Created device /job:localhost/replica:0/task:0/device:GPU:0 with 31141 MB memory:  -&gt; device: 0, name: Tesla V100-PCIE-32GB, pci bus id: 0000:89:00.0, compute capability: 7.0
&gt;&gt;&gt; predictions = model(x_train[:1]).numpy()
&gt;&gt;&gt; predictions
array([[-0.745112  ,  0.49414337, -0.10749201, -0.23818162,  0.2159372 ,
        -0.38107562,  0.8540315 , -0.21077928,  0.04448523,  0.37432173]],
      dtype=float32)
&gt;&gt;&gt; tf.nn.softmax(predictions).numpy()
array([[0.0417023 , 0.14399974, 0.07889961, 0.06923362, 0.10902808,
        0.06001488, 0.206376  , 0.07115702, 0.09184969, 0.12773912]],
      dtype=float32)
&gt;&gt;&gt; loss_fn = tf.keras.losses.SparseCategoricalCrossentropy(from_logits=True)
&gt;&gt;&gt; loss_fn(y_train[:1], predictions).numpy()
2.8131628
&gt;&gt;&gt; model.compile(optimizer='adam',
...               loss=loss_fn,
...               metrics=['accuracy'])
&gt;&gt;&gt; model.fit(x_train, y_train, epochs=5)
Epoch 1/5
2023-11-28 09:06:00.300076: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x7fee20069290 initialized for platform CUDA (this does not guarantee that XLA will be used). Devices:
2023-11-28 09:06:00.300099: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): Tesla V100-PCIE-32GB, Compute Capability 7.0
2023-11-28 09:06:00.305647: I tensorflow/compiler/mlir/tensorflow/utils/dump_mlir_util.cc:255] disabling MLIR crash reproducer, set env var `MLIR_CRASH_REPRODUCER_DIRECTORY` to enable.
2023-11-28 09:06:00.371150: I tensorflow/compiler/xla/stream_executor/cuda/cuda_dnn.cc:432] Loaded cuDNN version 8904
2023-11-28 09:06:00.442691: I tensorflow/tsl/platform/default/subprocess.cc:304] Start cannot spawn child process: No such file or directory
2023-11-28 09:06:00.535627: I ./tensorflow/compiler/jit/device_compiler.h:186] Compiled cluster using XLA!  This line is logged at most once for the lifetime of the process.
1875/1875 [==============================] - 5s 2ms/step - loss: 0.2931 - accuracy: 0.9150
Epoch 2/5
1875/1875 [==============================] - 4s 2ms/step - loss: 0.1395 - accuracy: 0.9597
Epoch 3/5
1875/1875 [==============================] - 4s 2ms/step - loss: 0.1070 - accuracy: 0.9678
Epoch 4/5
1875/1875 [==============================] - 4s 2ms/step - loss: 0.0877 - accuracy: 0.9729
Epoch 5/5
1875/1875 [==============================] - 4s 2ms/step - loss: 0.0754 - accuracy: 0.9764
&lt;keras.src.callbacks.History object at 0x7feef9f09550&gt;
&gt;&gt;&gt; model.evaluate(x_test,  y_test, verbose=2)
313/313 - 1s - loss: 0.0714 - accuracy: 0.9756 - 600ms/epoch - 2ms/step
[0.07143650203943253, 0.975600004196167]
&gt;&gt;&gt; </code></pre><pre><code>[login31 /users/mmill116/gpu-test]$ <strong>ls -al
</strong> total 496
 drwxr-xr-x    2 mmill116 mmi   4 Nov 28 11:49 .
 drwxr-x---+ 214 mmill116 mmi 412 Nov 28 11:49 ..
 -rw-r--r--    1 mmill116 mmi 789 Nov 28 11:47 nvidia-test.py
 -rwxr-xr-x    1 mmill116 mmi 343 Nov 28 11:49 test-slurm-gpu.sh
[login31 /users/mmill116/gpu-test]$ <strong>cat nvidia-test.py
</strong> import tensorflow as tf
 print("TensorFlow version:", tf.__version__)
 mnist = tf.keras.datasets.mnist
 (x_train, y_train), (x_test, y_test) = mnist.load_data()
 x_train, x_test = x_train / 255.0, x_test / 255.0
 model = tf.keras.models.Sequential([
   tf.keras.layers.Flatten(input_shape=(28, 28)),
   tf.keras.layers.Dense(128, activation='relu'),
   tf.keras.layers.Dropout(0.2),
   tf.keras.layers.Dense(10)
 ])
 predictions = model(x_train[:1]).numpy()
 predictions
 tf.nn.softmax(predictions).numpy()
 loss_fn = tf.keras.losses.SparseCategoricalCrossentropy(from_logits=True)
 loss_fn(y_train[:1], predictions).numpy()
 model.compile(optimizer='adam',
               loss=loss_fn,
               metrics=['accuracy'])
 model.fit(x_train, y_train, epochs=5)
 model.evaluate(x_test,  y_test, verbose=2)
</code></pre><pre><code>&gt;[login31 /users/mmill116/gpu-test]$ <strong>cat test-slurm-gpu.sh</strong>
!/bin/sh
SBATCH --partition=gpu
SBATCH --gres=gpu:titanv:1

echo $CUDA_VISIBLE_DEVICES
cd $HOME/gpu-test
nvidia-smi
export LD_LIBRARY_PATH=/jhpce/shared/jhpce/core/JHPCE_tools/3.0/lib:/usr/local/lib/python3.9/site-packages/nvidia/cudnn/lib:/jhpce/shared/jhpce/core/conda/miniconda3-23.3.1/envs/cudatoolkit-11.8.0/lib

python nvidia-test.py
</code></pre><pre><code>
[login31 /users/mmill116/gpu-test]$ <strong>sbatch test-slurm-gpu.sh</strong>
 Submitted batch job 915238
 [login31 /users/mmill116/gpu-test]$ <strong>squeue --me</strong>
              JOBID PARTITION     NAME     USER ST       TIME  NODES NODELIST(REASON)
             915238       gpu test-slu mmill116  R       0:06      1 compute-117

[login31 /users/mmill116/gpu-test]$ <strong>ls</strong>
 nvidia-test.py  slurm-915238.out  test-slurm-gpu.sh
 [login31 /users/mmill116/gpu-test]$ squeue --me
              JOBID PARTITION     NAME     USER ST       TIME  NODES NODELIST(REASON)
             915238       gpu test-slu mmill116  R       0:21      1 compute-117 
[login31 /users/mmill116/gpu-test]$ <strong>squeue --me
</strong>              JOBID PARTITION     NAME     USER ST       TIME  NODES NODELIST(REASON)
[login31 /users/mmill116/gpu-test]$ ls
 nvidia-test.py  slurm-915238.out  test-slurm-gpu.sh
 [login31 /users/mmill116/gpu-test]$ cat slurm-915238.out
 0
 Tue Nov 28 11:55:08 2023       
 +---------------------------------------------------------------------------------------+
 | NVIDIA-SMI 535.86.10              Driver Version: 535.86.10    CUDA Version: 12.2     |
 |-----------------------------------------+----------------------+----------------------+
 | GPU  Name                 Persistence-M | Bus-Id        Disp.A | Volatile Uncorr. ECC |
 | Fan  Temp   Perf          Pwr:Usage/Cap |         Memory-Usage | GPU-Util  Compute M. |
 |                                         |                      |               MIG M. |
 |=========================================+======================+======================|
 |   0  NVIDIA TITAN V                 On  | 00000000:B1:00.0 Off |                  N/A |
 | 28%   35C    P8              26W / 250W |      0MiB / 12288MiB |      0%      Default |
 |                                         |                      |                  N/A |
 +-----------------------------------------+----------------------+----------------------+
 +---------------------------------------------------------------------------------------+
 | Processes:                                                                            |
 |  GPU   GI   CI        PID   Type   Process name                            GPU Memory |
 |        ID   ID                                                             Usage      |
 |=======================================================================================|
 |  No running processes found                                                           |
 +---------------------------------------------------------------------------------------+
 2023-11-28 11:55:08.645381: I tensorflow/core/platform/cpu_feature_guard.cc:182] This TensorFlow binary is optimized to use available CPU instructions in performance-critical operations.
 To enable the following instructions: AVX2 AVX512F FMA, in other operations, rebuild TensorFlow with the appropriate compiler flags.
 2023-11-28 11:55:09.449932: W tensorflow/compiler/tf2tensorrt/utils/py_utils.cc:38] TF-TRT Warning: Could not find TensorRT
 2023-11-28 11:55:10.803612: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1639] Created device /job:localhost/replica:0/task:0/device:GPU:0 with 10696 MB memory:  -&gt; device: 0, name: NVIDIA TITAN V, pci bus id: 0000:b1:00.0, compute capability: 7.0
 TensorFlow version: 2.13.0
 Epoch 1/5
 2023-11-28 11:55:11.914159: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x7ff35c066ba0 initialized for platform CUDA (this does not guarantee that XLA will be used). Devices:
 2023-11-28 11:55:11.914504: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): NVIDIA TITAN V, Compute Capability 7.0
 2023-11-28 11:55:11.920545: I tensorflow/compiler/mlir/tensorflow/utils/dump_mlir_util.cc:255] disabling MLIR crash reproducer, set env var <code>MLIR_CRASH_REPRODUCER_DIRECTORY</code> to enable.
 2023-11-28 11:55:11.985098: I tensorflow/compiler/xla/stream_executor/cuda/cuda_dnn.cc:432] Loaded cuDNN version 8904
 2023-11-28 11:55:12.057397: I tensorflow/tsl/platform/default/subprocess.cc:304] Start cannot spawn child process: No such file or directory
 2023-11-28 11:55:12.148968: I ./tensorflow/compiler/jit/device_compiler.h:186] Compiled cluster using XLA!  This line is logged at most once for the lifetime of the process.
 1875/1875 [==============================] - 5s 2ms/step - loss: 0.2948 - accuracy: 0.9142
 Epoch 2/5
 1875/1875 [==============================] - 4s 2ms/step - loss: 0.1433 - accuracy: 0.9574
 Epoch 3/5
 1875/1875 [==============================] - 4s 2ms/step - loss: 0.1078 - accuracy: 0.9675
 Epoch 4/5
 1875/1875 [==============================] - 4s 2ms/step - loss: 0.0884 - accuracy: 0.9725
 Epoch 5/5
 1875/1875 [==============================] - 4s 2ms/step - loss: 0.0751 - accuracy: 0.9769
 313/313 - 1s - loss: 0.0713 - accuracy: 0.9780 - 600ms/epoch - 2ms/step
 [login31 /users/mmill116/gpu-test]$ 
</code></pre><h2><a class="heading" href="../help/faq-old">FAQ</a></h2><a class="url" href="../help/faq-old">help/faq-old/</a><pre><span></span><code>bash:<span class="w"> </span>module:<span class="w"> </span><span class="nb">command</span><span class="w"> </span>not<span class="w"> </span>found
</code></pre><pre><span></span><code><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-f<span class="w"> </span>/etc/bashrc<span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
.<span class="w"> </span>/etc/bashrc
<span class="k">fi</span>
</code></pre><pre><span></span><code><span class="p">(</span><span class="nb">require</span><span class="w"> </span><span class="ss">'use-package</span><span class="p">)</span>
<span class="p">(</span><span class="nv">add-to-list</span><span class="w"> </span><span class="ss">'package-archives</span><span class="w"> </span><span class="o">'</span><span class="p">(</span><span class="s">"gnu"</span><span class="w"> </span><span class="o">.</span><span class="w"> </span><span class="s">"http://elpa.gnu.org/packages/"</span><span class="p">)</span><span class="w"> </span><span class="no">t</span><span class="p">)</span>
<span class="p">(</span><span class="nv">add-to-list</span><span class="w"> </span><span class="ss">'package-archives</span><span class="w"> </span><span class="o">'</span><span class="p">(</span><span class="s">"melpa"</span><span class="w"> </span><span class="o">.</span><span class="w"> </span><span class="s">"http://melpa.org/packages/"</span><span class="p">)</span><span class="w"> </span><span class="no">t</span><span class="p">)</span>
</code></pre><pre><span></span><code>EnableEscapeCommandline=yes
</code></pre><pre><span></span><code>$ ssh -X username@jhpce01.jhsph.edu -o ForwardX11Timeout=336h
</code></pre><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># Source the global bashrc</span>
<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-f<span class="w"> </span>/etc/bashrc<span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
.<span class="w"> </span>/etc/bashrc
<span class="k">fi</span>
module<span class="w"> </span>load<span class="w"> </span>JHPCE_DEFAULT_ENV
</code></pre><h2><a class="heading" href="../help/faq">FAQ</a></h2><a class="url" href="../help/faq">help/faq/</a><pre><span></span><code>#!/bin/bash

rsync -avzh /users/bob/src /dcs08/bob/dst
</code></pre><pre><span></span><code>sbatch --mail-type=FAIL,END --mail-user=bob@jhu.edu copy-job
</code></pre><pre><span></span><code>bash:<span class="w"> </span>module:<span class="w"> </span><span class="nb">command</span><span class="w"> </span>not<span class="w"> </span>found
</code></pre><pre><span></span><code><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-f<span class="w"> </span>/etc/bashrc<span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
.<span class="w"> </span>/etc/bashrc
<span class="k">fi</span>
</code></pre><pre><span></span><code>[2970887:2970887:1024/152818.092311:ERROR:chrome_browser_cloud_management_controller.cc(163)] Cloud management controller initialization aborted as CBCM is not enabled.
    [2970887:2971086:1024/152818.161869:ERROR:login_database.cc(922)] Password store database is too new, kCurrentVersionNumber=35, GetCompatibleVersionNumber=39
    [2970887:2971087:1024/152818.164247:ERROR:login_database.cc(922)] Password store database is too new, kCurrentVersionNumber=35, GetCompatibleVersionNumber=39
    [2970887:2971086:1024/152818.167534:ERROR:login_database_async_helper.cc(59)] Could not create/open login database.
    [2970887:2971087:1024/152818.170351:ERROR:login_database_async_helper.cc(59)] Could not create/open login database.
    [2970887:2970887:1024/152818.626429:ERROR:object_proxy.cc(590)] Failed to call method: org.freedesktop.portal.Settings.Read: object_path= /org/freedesktop/portal/desktop: org.freedesktop.portal.Error.NotFound: Requested setting not found
libGL error: No matching fbConfigs or visuals found
libGL error: failed to load driver: swrast
</code></pre><pre><span></span><code>EnableEscapeCommandline=yes
</code></pre><pre><span></span><code>$ ssh -X username@jhpce01.jhsph.edu -o ForwardX11Timeout=336h
</code></pre><pre><span></span><code>$ head -1 .ssh/config
ForwardX11Timeout=0
</code></pre><h2><a class="heading" href="../ourtools/features">Handy Features</a></h2><a class="url" href="../ourtools/features">ourtools/features/</a><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>jhpce_mkdocs
find<span class="w"> </span>.<span class="w"> </span>-type<span class="w"> </span>f<span class="w"> </span>-name<span class="w"> </span><span class="se">\*</span>.md<span class="w"> </span>-exec<span class="w"> </span>grep<span class="w"> </span>-il<span class="w"> </span><span class="s2">"www.jhpce.jhu.edu"</span><span class="w"> </span><span class="o">{}</span><span class="w"> </span><span class="se">\;</span>
find<span class="w"> </span>.<span class="w"> </span>-type<span class="w"> </span>f<span class="w"> </span>-name<span class="w"> </span><span class="se">\*</span>.md<span class="w"> </span>-exec<span class="w"> </span>sed<span class="w"> </span>-i<span class="w"> </span><span class="s1">''</span><span class="w"> </span><span class="s2">"s/www.jhpce.jhu.edu/jhpce-old.jhu.edu/g"</span><span class="w"> </span><span class="o">{}</span><span class="w"> </span><span class="se">\;</span>
find<span class="w"> </span>.<span class="w"> </span>-type<span class="w"> </span>f<span class="w"> </span>-name<span class="w"> </span><span class="se">\*</span>.md<span class="w"> </span>-exec<span class="w"> </span>grep<span class="w"> </span>-il<span class="w"> </span><span class="s2">"jhpce-old.jhu.edu"</span><span class="w"> </span><span class="o">{}</span><span class="w"> </span><span class="se">\;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>xargs<span class="w"> </span>git<span class="w"> </span>add
</code></pre><pre class="mermaid"><code>graph LR
   A[Your computer] --&gt; B[Login nodes]
   B[Login nodes] --&gt; C[(Compute nodes)]</code></pre><pre><span></span><code>---
tags:
  - a tag
title: some docs need explicit titles set b/c they can't be correctly guessed
---
</code></pre><pre><span></span><code>---
tags:
  - done
  - needs-review
  - in-progress
  - needs-improvement-later
  - contains-refs-to-old-site
  - last-revised-20240210
  - jeffrey
  - mark
  - jiong
  - adi
  - brian
---
</code></pre><pre><span></span><code>![<span class="nt">Image title</span>](<span class="na">https://dummyimage.com/600x400/eee/aaa</span>){ align=left }
</code></pre><pre><span></span><code>![Image title](../files/images/dir-stack-push-pop.png)
</code></pre><pre><span></span><code>![Image title](../files/images/dir-stack-push-pop.png) The text that you want to the right side of image.
</code></pre><pre><span></span><code>![Image title](../files/images/dir-stack-push-pop.png){align=left} The text that you want to the right side of image.
</code></pre><pre><span></span><code>The HTML specification is maintained by the W3C.
*[HTML]: Hyper Text Markup Language
</code></pre><pre><span></span><code>`a sample term to define`
:    The definition you are seeking. (But not the droids.)
</code></pre><pre><span></span><code>sacct<span class="w"> </span>-s<span class="w"> </span>F<span class="w"> </span>-o<span class="w"> </span><span class="s2">"user,jobid,state,nodelist,start,end,exitcode"</span><span class="w"> </span>-S<span class="w"> </span>noon<span class="w"> </span>-E<span class="w"> </span>now
</code></pre><pre><span></span><code>&lt;a href="https://squidfunk.github.io/mkdocs-material/reference/admonitions/" target="_blank"&gt;About admonitions&lt;/a&gt;
</code></pre><pre><span></span><code>  - attr_list
  - pymdownx.emoji:
      emoji_index: !!python/name:material.extensions.emoji.twemoji
      emoji_generator: !!python/name:material.extensions.emoji.to_svg
</code></pre><pre><span></span><code><span class="k">def</span> <span class="nf">fn</span><span class="p">():</span>
<span class="k">pass</span>
</code></pre><pre><span></span><code><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">pymdownx.snippets</span><span class="p">:</span><span class="w"> </span><span class="c1"># adds the ability to embed content from arbitrary files into a document</span>
<span class="w">      </span><span class="nt">check_paths</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span><span class="w"> </span><span class="c1"># if true, if snippets cannot be found, the site cannot be rebuilt!!!</span>
<span class="w">      </span><span class="nt">base_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">docs</span>
</code></pre><pre><span></span><code># System-wide .bashrc file for interactive bash(1) shells.
if [ -z "$PS1" ]; then
     return
fi
</code></pre><pre><span></span><code>cd ~/Documents/GitHub/

git clone https://github.com/jhpce-jhu/jhpce_mkdocs
or you can use the ssh-key method:
git clone git@github.com:jhpce-jhu/jhpce_mkdocs

cd jhpce_mkdocs

pip3 install mkdocs-material
pip3 install mkdocs-git-revision-date-localized-plugin
pip3 install mkdocs-open-in-new-tab
pip3 install mkdocs-mermaid2-plugin
pip3 install mkdocs-git-authors-plugin
pip3 install mkdocs-extract-listings-plugin
mkdocs build
mkdocs serve
</code></pre><pre><span></span><code><span class="c1"># https://www.mkdocs.org/user-guide/configuration/#validation</span>
<span class="nt">validation</span><span class="p">:</span>
<span class="w">  </span><span class="nt">omitted_files</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">warn</span>
<span class="w">  </span><span class="nt">absolute_links</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">warn</span>
<span class="w">  </span><span class="nt">unrecognized_links</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">warn</span>
</code></pre><pre><span></span><code>TypeError:<span class="w"> </span><span class="s1">'&lt;'</span><span class="w"> </span>not<span class="w"> </span>supported<span class="w"> </span>between<span class="w"> </span>instances<span class="w"> </span>of<span class="w"> </span><span class="s1">'NoneType'</span><span class="w"> </span>and<span class="w"> </span><span class="s1">'str'</span>
ERROR<span class="w">   </span>-<span class="w">  </span><span class="o">[</span><span class="m">14</span>:46:28<span class="o">]</span><span class="w"> </span>An<span class="w"> </span>error<span class="w"> </span>happened<span class="w"> </span>during<span class="w"> </span>the<span class="w"> </span>rebuild.<span class="w"> </span>The<span class="w"> </span>server<span class="w"> </span>will<span class="w"> </span>appear
<span class="w">           </span>stuck<span class="w"> </span><span class="k">until</span><span class="w"> </span>build<span class="w"> </span>errors<span class="w"> </span>are<span class="w"> </span>resolved.
</code></pre><pre><span></span><code>Contents for Mac users
</code></pre><pre><span></span><code>Contents for Mac users
</code></pre><pre><span></span><code><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"Hello World!"</span><span class="p">;</span>
<span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="s1">'Hello, world!'</span><span class="p">)</span>
</code></pre><pre><span></span><code>usage<span class="o">()</span>
<span class="o">{</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">"Usage: </span><span class="nv">$0</span><span class="s2"> [-h] "</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">"Displays all defined QOS with nice formatting."</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">"Caution, this script may not show all fields relevant/used in future."</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">"    -h     |--help        display usage"</span>
<span class="o">}</span>
</code></pre><h2><a class="heading" href="../ourtools/tips-conventions">Tips &amp; Conventions</a></h2><a class="url" href="../ourtools/tips-conventions">ourtools/tips-conventions/</a><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>docs/orient/images
ln<span class="w"> </span>-s<span class="w"> </span>JHPCE-Overview-CMS-2023-12-2.pdf<span class="w"> </span>latest-orient.pdf
</code></pre><pre><code>[test@compute-107 ~]$ <span style="background-color:yellow">module list</span>

Currently Loaded Modules:
  1) JHPCE_ROCKY9_DEFAULT_ENV   2) JHPCE_tools/3.0
</code></pre><pre><span></span><code><span class="gp">[test@compute-107 ~]$ </span>module<span class="w"> </span>list<span class="w"> </span>

<span class="go">Currently Loaded Modules:</span>
<span class="go">  1) JHPCE_ROCKY9_DEFAULT_ENV   2) JHPCE_tools/3.0</span>
</code></pre><h2><a class="heading" href="../ourtools/wishlist">Wishlist</a></h2><a class="url" href="../ourtools/wishlist">ourtools/wishlist/</a><pre><span></span><code>{% block announce -%}
{%- endblock %}
</code></pre><pre><span></span><code>.md-banner {
  background-color: #ffcc00;
  color: #cc3300;
}
</code></pre><pre><span></span><code>&lt;a href="https://squidfunk.github.io/mkdocs-material/reference/admonitions/" target="_blank"&gt;About admonitions&lt;/a&gt;
</code></pre><pre><span></span><code>plugins:
  - search
</code></pre><pre><span></span><code>plugins:
  - blog
</code></pre><h2><a class="heading" href="../slurm/about-jobs">About Jobs</a></h2><a class="url" href="../slurm/about-jobs">slurm/about-jobs/</a><pre><span></span><code>&lt;job id&gt;
&lt;job id&gt;.&lt;step id&gt;
&lt;job array&gt;_&lt;job id&gt;
&lt;job array&gt;_&lt;job id&gt;.&lt;step id&gt;
</code></pre><pre><span></span><code><span class="w">  </span>JobID<span class="w">           </span>JobName<span class="w">  </span>Partition<span class="w">    </span>Account<span class="w">  </span>AllocCPUS<span class="w">      </span>State<span class="w"> </span>ExitCode<span class="w"> </span>
<span class="w">  </span>------------<span class="w"> </span>----------<span class="w"> </span>----------<span class="w"> </span>----------<span class="w"> </span>----------<span class="w"> </span>----------<span class="w"> </span>--------<span class="w"> </span>

<span class="w">  </span><span class="m">1922948</span><span class="w">            </span>bash<span class="w">        </span>cee<span class="w">      </span>jhpce<span class="w">         </span><span class="m">24</span><span class="w">    </span>RUNNING<span class="w">      </span><span class="m">0</span>:0<span class="w"> </span>
<span class="w">  </span><span class="m">1922948</span>.ext+<span class="w">     </span>extern<span class="w">                 </span>jhpce<span class="w">         </span><span class="m">24</span><span class="w">    </span>RUNNING<span class="w">      </span><span class="m">0</span>:0<span class="w"> </span>
<span class="w">  </span><span class="m">1922948</span>.0<span class="w">          </span>bash<span class="w">                 </span>jhpce<span class="w">         </span><span class="m">24</span><span class="w">    </span>RUNNING<span class="w">      </span><span class="m">0</span>:0<span class="w"> </span>
</code></pre><pre><span></span><code><span class="w">  </span>JobID<span class="w">           </span>JobName<span class="w">  </span>Partition<span class="w">    </span>Account<span class="w">  </span>AllocCPUS<span class="w">      </span>State<span class="w"> </span>ExitCode<span class="w"> </span>
<span class="w">  </span>------------<span class="w"> </span>----------<span class="w"> </span>----------<span class="w"> </span>----------<span class="w"> </span>----------<span class="w"> </span>----------<span class="w"> </span>--------<span class="w"> </span>
<span class="w">  </span><span class="m">1542874</span><span class="w">            </span>bash<span class="w">     </span>shared<span class="w">      </span>jhpce<span class="w">          </span><span class="m">2</span><span class="w">    </span>RUNNING<span class="w">      </span><span class="m">0</span>:0<span class="w"> </span>
<span class="w">  </span><span class="m">1542874</span>.ext+<span class="w">     </span>extern<span class="w">                 </span>jhpce<span class="w">          </span><span class="m">2</span><span class="w">    </span>RUNNING<span class="w">      </span><span class="m">0</span>:0<span class="w"> </span>
</code></pre><h2><a class="heading" href="../slurm/crafting-jobs">Crafting Batch Jobs</a></h2><a class="url" href="../slurm/crafting-jobs">slurm/crafting-jobs/</a><pre><span></span><code>You could use your 1TB of fastscratch space for this. So your SLURM script could use commands like:

module load conda_R
export TMPDIR=$MYSCRATCH
R CMD BATCH myprog.R
</code></pre><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1">#SBATCH -p shared</span>
<span class="c1">#SBATCH --mem=10G</span>
<span class="c1">#SBATCH --job-name=cp-files</span>
<span class="c1">#SBATCH --time=15-0</span>
<span class="c1">#SBATCH --nodes=1</span>
<span class="c1">#SBATCH --ntasks=1</span>
<span class="c1">#SBATCH --cpus-per-task=1</span>
<span class="c1">#SBATCH --output=cp-files-%j.out    # file to collect standard output</span>
<span class="c1">#SBATCH --error=cp-files-%j.err # file to collect standard output</span>
<span class="c1">#SBATCH --mail-user=my-email-address@jhu.edu</span>
<span class="c1">#SBATCH --mail-type=BEGIN,FAIL,END</span>

date
<span class="nb">cd</span><span class="w"> </span>/dcs04/sample/path/

<span class="nb">echo</span><span class="w"> </span><span class="s2">"I am running on compute node:"</span>
hostname

<span class="nb">echo</span><span class="w"> </span><span class="s2">"In directory:"</span>
<span class="nb">pwd</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">"The files found in this directory are:"</span>
/bin/ls

<span class="c1"># args are meant to try to prevent files from being deleted in destination</span>
<span class="nv">rsyncargs</span><span class="o">=</span><span class="s2">"-h --progress --sparse --numeric-ids --one-file-system --stats --ignore-existing --max-delete=0"</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">"about to try to rsync"</span>

rsync<span class="w"> </span>-a<span class="w"> </span><span class="nv">$rsyncargs</span><span class="w"> </span>directory-to-be-copied<span class="w"> </span>/dcs05/destination/path/

date
<span class="nb">echo</span><span class="w"> </span><span class="s2">"done"</span>
</code></pre><pre><span></span><code>#!/bin/bash
#
# JPHCE - dispatch-to-everynode - Dispatch a job to each node which is responding
#
#       FAILS TO WORK IF YOU DON'T SPECIFY A BUNCH OF PARTITIONS
#       BECAUSE SHARED IS USED. Following worked at this time
#       #SBATCH --partition=shared,cee,transfer,sysadmin,sas,gpu,bstgpu,neuron
#
# You need to specify a batch file at the minimum
# You can specify additional arguments
# TODO: Nice to be able to specify a partition to sinfo if desired
#--------------------------------------------------------------------------
#--------------------------------------------------------------------------
# Date          Modification                                       Initials
#--------------------------------------------------------------------------
# 20231222      Created, added standard comment section.                JRT
#--------------------------------------------------------------------------

usage()
{
echo "Usage: $0 [directives..] batchfile "
echo "Usage:   Specify at least a job file"
echo "Usage:   Good idea to include in your batch file --output=/dev/null"
exit 1
}

if [ $# -lt 1 ]; then
        usage
else
        for i in `sinfo -N -r | awk '{print $1}' | sort -u | grep -v NODELIST`
        do
                echo $i
                sbatch --nodelist=${i} "$@"
        done
fi
</code></pre><h2><a class="heading" href="../slurm/environment">Job Environment</a></h2><a class="url" href="../slurm/environment">slurm/environment/</a><pre><span></span><code><span class="ch">#!/bin/bash</span>
<span class="nb">echo</span><span class="w"> </span><span class="si">${</span><span class="nv">A</span><span class="si">}</span>
<span class="nb">echo</span><span class="w"> </span><span class="si">${</span><span class="nv">b</span><span class="si">}</span>
</code></pre><pre><span></span><code>A=70
b='trial-24'

sbatch --job-name=${A}.${b}.run --output=${A}.${b}.out --export=D=${A},f=${b} script.sh
</code></pre><h2><a class="heading" href="../slurm/interactive-jobs">Interactive Jobs</a></h2><a class="url" href="../slurm/interactive-jobs">slurm/interactive-jobs/</a><pre><span></span><code>jsrun() { if [ -z ${DISPLAY} ]; then /usr/bin/srun --pty "$@" bash; else /usr/bin/srun --pty --x11 "$@" bash; fi }
</code></pre><pre><span></span><code>jxrun() { /usr/bin/srun --pty "$@" bash; }
</code></pre><h2><a class="heading" href="../slurm/monitoring">Monitoring Your Jobs</a></h2><a class="url" href="../slurm/monitoring">slurm/monitoring/</a><pre><span></span><code>#!/bin/bash
...
...
your-main-command &lt; inputfile &gt; outputfile
echo "job finished"
</code></pre><pre><span></span><code>--mail-user<span class="o">=</span>&lt;email-address&gt;
</code></pre><pre><span></span><code>--mail-type<span class="o">=</span>&lt;list-of-types&gt;<span class="w">  </span><span class="c1"># comma-separated</span>
</code></pre><pre><span></span><code>Job ID: 3946128
Array Job ID: 3560537_102
Cluster: jhpce3
User/Group: jmuschel/biostats
State: COMPLETED (exit code 0)
Cores: 1
CPU Utilized: 2-12:47:05
CPU Efficiency: 99.94% of 2-12:49:12 core-walltime
Job Wall-clock time: 2-12:49:12
Memory Utilized: 15.34 GB
Memory Efficiency: 76.71% of 20.00 GB
</code></pre><h2><a class="heading" href="../slurm/node-features">Node Features</a></h2><a class="url" href="../slurm/node-features">slurm/node-features/</a><pre><span></span><code>      3 bdver1
      7 bdver2
     10 broadwell
      2 cascadelake
     11 haswell
     17 icelake-server
     16 sapphirerapids
      5 skylake-avx512
      4 znver2
      2 znver3
</code></pre><h2><a class="heading" href="../slurm/partitions">Partitions</a></h2><a class="url" href="../slurm/partitions">slurm/partitions/</a><pre><span></span><code>scontrol<span class="w"> </span>show<span class="w"> </span>partition<span class="w"> </span>partitionname
</code></pre><h2><a class="heading" href="../slurm/qos">Quality of Service (QOS)</a></h2><a class="url" href="../slurm/qos">slurm/qos/</a><pre><span></span><code>scontrol<span class="w"> </span>show<span class="w"> </span>partition<span class="w"> </span>partitionname<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-i<span class="w"> </span>qos
</code></pre><h2><a class="heading" href="../slurm/time-limits">Time Limits</a></h2><a class="url" href="../slurm/time-limits">slurm/time-limits/</a><pre><span></span><code>Note: The following was largely written using ChatGPT.
</code></pre><pre><span></span><code>srun:*:time=5-00
sbatch:*:time=10-00
</code></pre><pre><span></span><code>scontrol<span class="w"> </span>update<span class="w"> </span><span class="nv">jobid</span><span class="o">=</span>&lt;jobid&gt;<span class="w"> </span><span class="nv">mailtype</span><span class="o">=</span>time_limit_80
</code></pre><pre><span></span><code>scontrol<span class="w"> </span>update<span class="w"> </span><span class="nv">jobid</span><span class="o">=</span>&lt;jobid&gt;<span class="w"> </span><span class="nv">mailuser</span><span class="o">=</span>&lt;your-address@jh.edu&gt;
</code></pre><pre><span></span><code>[mmill116@login31 class-scripts]$ cat script1
 #!/bin/bash
 # Test script for JHPCE cluster
 date
 echo "I am now running on compute node:"
 hostname
 SLEEPTIME=$((20 + $RANDOM % 60))
 echo "Sleeping " $SLEEPTIME " seconds..."
 sleep $SLEEPTIME
 date
 echo "Done..."
 exit 0 
[mmill116@login31 class-scripts]$ sbatch -a 1-10%4 -t 00:00:30 script1
Submitted batch job 1980474 

[mmill116@login31 class-scripts]$ sacct -j 1980474
 JobID           JobName  Partition    Account  AllocCPUS      State ExitCode 
 ------------ ---------- ---------- ---------- ---------- ---------- -------- 
 1980474_1       script1     shared      jhpce          2  COMPLETED      0:0 
 1980474_1.b+      batch                 jhpce          2  COMPLETED      0:0 
 1980474_1.e+     extern                 jhpce          2  COMPLETED      0:0 
 1980474_2       script1     shared      jhpce          2    TIMEOUT      0:0 
 1980474_2.b+      batch                 jhpce          2  CANCELLED     0:15

. . .

[mmill116@login31 class-scripts]$ cat slurm-1980474_2.out
Tue Feb 13 12:02:19 PM EST 2024
I am now running on compute node:
compute-093.cm.cluster
Sleeping  71  seconds...
slurmstepd: error: *** JOB 1980476 ON compute-093 
CANCELLED AT 2024-02-13T12:03:27 DUE TO TIME LIMIT *** 
</code></pre><h2><a class="heading" href="../slurm/tips-reportseff">reportseff tips</a></h2><a class="url" href="../slurm/tips-reportseff">slurm/tips-reportseff/</a><pre><span></span><code>Job ID: 9709
Cluster: cms
User/Group: ttotoj/users
State: COMPLETED (exit code 0)
Cores: 1
CPU Utilized: 00:47:34
CPU Efficiency: 97.74% of 00:48:40 core-walltime
Job Wall-clock time: 00:48:40
Memory Utilized: 67.40 GB
Memory Efficiency: 22.47% of 300.00 GB
</code></pre><pre><span></span><code>module load reportseff
export LESS="-R"

reportseff  --since now-3days --until now -s CD --format +reqcpus,reqmem
  JobID    State       Elapsed  TimeEff   CPUEff   MemEff   ReqCPUS   ReqMem 
  12394  COMPLETED    00:44:58   0.2%     92.3%    113.0%     50      1600G
  12403  COMPLETED    00:45:12   0.2%     91.2%    115.2%     50      1600G
  12413  COMPLETED    00:00:04   0.0%      ---      0.0%      70      1800G
  12415  COMPLETED    00:00:03   0.0%      ---      0.0%      70      1800G
  12416  COMPLETED    00:00:03   0.0%      ---      0.0%      75      1800G
  12418  COMPLETED    00:03:04   0.0%      1.8%     0.9%      50      1500G
  12419  COMPLETED    00:03:24   0.0%      ---      0.0%      50      1500G
  12435  COMPLETED    00:07:03   0.0%     49.1%    46.5%      20       500G
  12455  COMPLETED    06:22:15   26.5%     9.6%    38.1%       1       50G
  12464  COMPLETED    00:01:41   0.0%     16.6%     3.2%      15       350G
  12468  COMPLETED    00:02:56   0.0%     48.1%    54.0%      10       250G
  12469  COMPLETED    08:39:19   1.8%     96.3%    97.7%      10       400G
  12503  COMPLETED    06:10:40   1.3%     91.7%    152.1%     10       380G
  12531  COMPLETED    03:24:26   0.7%     86.8%    159.9%     10       350G
  12539  COMPLETED    00:37:51   0.1%      5.1%    46.8%      20       100G
</code></pre><pre><span></span><code>module load reportseff
export LESS="-R"

reportseff --since noon --until now -s CD --format +user

    JobID    State         Elapsed  TimeEff   CPUEff   MemEff     User   
   5011394  COMPLETED      19:16:18   40.1%    99.5%    130.4%    mnagle
   5013943  COMPLETED      14:27:08   30.1%    99.9%    127.9%    mnagle
   5016834  COMPLETED      07:48:51   16.3%    98.4%    124.0%    mnagle
   5024400  COMPLETED      05:54:33   24.6%     8.0%    60.3%    enorton
   5025014  COMPLETED      04:28:52   18.7%     9.2%     3.4%    jzhang5
   5025583  COMPLETED      03:57:29   16.5%    89.4%    26.1%      sli1
   5025584  COMPLETED      04:11:32   17.5%    89.1%    26.9%      sli1
   5025586  COMPLETED      03:55:38   16.4%    82.8%    26.4%      sli1
</code></pre><pre><span></span><code>module load reportseff
export LESS="-R"  # to provide colorized output
</code></pre><pre><span></span><code>Define an alias on the command line or in your .bashrc

rs() { export LESS="-R";export PYTHONPATH=/jhpce/shared/jhpce/core/reportseff/2.3.2/;export PATH=/jhpce/shared/jhpce/core/reportseff/2.3.2/bin:$PATH; reportseff "$@"; }
</code></pre><pre><span></span><code>module<span class="w"> </span>load<span class="w"> </span>reportseff
<span class="nb">export</span><span class="w"> </span><span class="nv">LESS</span><span class="o">=</span><span class="s2">"-R"</span>
reportseff<span class="w"> </span>--since<span class="w"> </span>noon<span class="w"> </span>--until<span class="w"> </span>now<span class="w"> </span>-s<span class="w"> </span>CD<span class="w"> </span>-u<span class="w"> </span><span class="nv">$USER</span>
reportseff<span class="w"> </span>--since<span class="w"> </span>noon<span class="w"> </span>--until<span class="w"> </span>now<span class="w"> </span>-s<span class="w"> </span>CD<span class="w"> </span>-u<span class="w"> </span><span class="nv">$USER</span><span class="w"> </span>--format<span class="w"> </span><span class="s2">"user,jobid,state,nodelist,start,end,cpueff,memeff"</span>

reportseff<span class="w"> </span>--since<span class="w"> </span>noon<span class="w"> </span>--until<span class="w"> </span>now<span class="w"> </span>-s<span class="w"> </span>CD<span class="w"> </span>-u<span class="w"> </span><span class="nv">$USER</span><span class="w"> </span>--format<span class="w"> </span><span class="s2">"+user,nodelist,start,end,cpueff,memeff"</span>
</code></pre><pre><span></span><code>login31:~% reportseff --help
Usage: reportseff [OPTIONS] [JOBS]...

Main entry point for reportseff.

Options:
  --modified-sort                 If set, will sort outputs by modified time
                              of files
  --color / --no-color            Force color output. No color will use click
                              defaults
  --format TEXT                   Comma-separated list of columns to include.
                              Options are any valid sacct input along with
                              CPUEff, MemEff, Energy, and TimeEff.  In
                              systems with jobstat caching, GPU usage can
                              be added with GPUEff, GPUMem or GPU (for
                              both). A width and alignment may optionally
                              be provided after "%", e.g. JobID%&gt;15 aligns
                              job id right with max width of 15
                              characters. Generally
                              NAME[[%:][ALIGNMENT][WIDTH[e$]?]]. When an
                              `e` or `$` is present after a width
                              argument, the output will be truncated to
                              the right.Prefix with a + to add to the
                              defaults. A single format token will
                              suppress the header line. Wrap in quotes to
                              pass a string literal, otherwise alignment
                              may be misinterpreted.
  --slurm-format TEXT             Filename pattern passed to sbatch.  By
                              default, will handle patterns like
                              slurm_%j.out, %x_%j, or slurm_%A_%a.  In
                              particular, the jobid is expected to start
                              with '_'.  Setting this to the same entry as
                              used in sbatch will allow parsing slurm
                              outputs like `1234.out`.  Array jobs must
                              have %A_%a to properly interface with sacct.
  --debug                         Print raw db query to stderr
  -u, --user TEXT                 Ignore jobs, return all jobs in last week
                              from user
  --partition TEXT                Only include jobs with the specified
                              partition
  --extra-args TEXT               Extra arguments to forward to sacct
  -s, --state TEXT                Only include jobs with the specified states
  -S, --not-state TEXT            Include jobs without the specified states
  --since TEXT                    Only include jobs after this time. Can be
                              valid sacct or as a comma separated list of
                              time deltas, e.g. d=2,h=1 means 2 days, 1
                              hour before current time. Weeks, days,
                              hours, and minutes can use case-insensitive
                              abbreviations. Minutes is the minimum
                              resolution, while weeks is the coarsest.
  --until TEXT                    Only include jobs before this time. Can be
                              valid sacct or as a comma separated list of
                              time deltas, e.g. d=2,h=1 means 2 days, 1
                              hour before current time. Weeks, days,
                              hours, and minutes can use case-insensitive
                              abbreviations. Minutes is the minimum
                              resolution, while weeks is the coarsest.
  -n, --node / -N, --no-node      Report node-level statistics. Adds `jobid`
                              to format for proper display.
  -g, --node-and-gpu / -G, --no-node-gpu
                              Report each GPU for each node. Sets `node`
                              and adds `GPU` to format automatically.
  -p, --parsable                  Output will be '|' delmited without a '|' at
                              the end.
  --version                       Show the version and exit.
  --help                          Show this message and exit.
</code></pre><h2><a class="heading" href="../slurm/tips-sacct">sacct tips</a></h2><a class="url" href="../slurm/tips-sacct">slurm/tips-sacct/</a><pre><span></span><code>sacct<span class="w"> </span>-s<span class="w"> </span>F<span class="w"> </span>-o<span class="w"> </span><span class="s2">"user,jobid,state,nodelist,start,end,exitcode"</span><span class="w"> </span>-S<span class="w"> </span>noon<span class="w"> </span>-E<span class="w"> </span>now
</code></pre><pre><span></span><code>sacct<span class="w"> </span>-X<span class="w"> </span>-a<span class="w"> </span>-s<span class="w"> </span>F<span class="w"> </span>-o<span class="w"> </span><span class="s2">"user,jobid,state,nodelist,exitcode"</span><span class="w"> </span>-S<span class="w"> </span>noon<span class="w"> </span>-E<span class="w"> </span>now<span class="p">|</span>sort<span class="w"> </span>-k5<span class="p">|</span><span class="w"> </span>less
</code></pre><pre><span></span><code>sacct<span class="w"> </span>-X<span class="w"> </span>-a<span class="w"> </span>-s<span class="w"> </span>F<span class="w"> </span>-o<span class="w"> </span><span class="s2">"user,jobid,state,nodelist,exitcode"</span><span class="w"> </span>-S<span class="w"> </span>noon<span class="w"> </span>-E<span class="w"> </span>now<span class="p">|</span>sort<span class="w"> </span>-k5,5<span class="w"> </span>-k4,4<span class="p">|</span><span class="w"> </span>less
</code></pre><pre><span></span><code>               HH:MM[:SS][AM|PM]
               MMDD[YY][-HH:MM[:SS]]
               MM.DD[.YY][-HH:MM[:SS]]
               MM/DD[/YY][-HH:MM[:SS]]
               YYYY-MM-DD[THH:MM[:SS]]
</code></pre><pre><span></span><code>Account             AdminComment        AllocCPUS           AllocNodes         
AllocTRES           AssocID             AveCPU              AveCPUFreq         
AveDiskRead         AveDiskWrite        AvePages            AveRSS             
AveVMSize           BlockID             Cluster             Comment            
Constraints         ConsumedEnergy      ConsumedEnergyRaw   Container          
CPUTime             CPUTimeRAW          DBIndex             DerivedExitCode    
Elapsed             ElapsedRaw          Eligible            End                
ExitCode            Flags               GID                 Group              
JobID               JobIDRaw            JobName             Layout             
MaxDiskRead         MaxDiskReadNode     MaxDiskReadTask     MaxDiskWrite       
MaxDiskWriteNode    MaxDiskWriteTask    MaxPages            MaxPagesNode       
MaxPagesTask        MaxRSS              MaxRSSNode          MaxRSSTask         
MaxVMSize           MaxVMSizeNode       MaxVMSizeTask       McsLabel           
MinCPU              MinCPUNode          MinCPUTask          NCPUS              
NNodes              NodeList            NTasks              Partition          
Priority            QOS                 QOSRAW              Reason             
ReqCPUFreq          ReqCPUFreqGov       ReqCPUFreqMax       ReqCPUFreqMin      
ReqCPUS             ReqMem              ReqNodes            ReqTRES            
Reservation         ReservationId       Reserved            ResvCPU            
ResvCPURAW          Start               State               Submit             
SubmitLine          Suspended           SystemComment       SystemCPU          
Timelimit           TimelimitRaw        TotalCPU            TRESUsageInAve     
TRESUsageInMax      TRESUsageInMaxNode  TRESUsageInMaxTask  TRESUsageInMin     
TRESUsageInMinNode  TRESUsageInMinTask  TRESUsageInTot      TRESUsageOutAve    
TRESUsageOutMax     TRESUsageOutMaxNode TRESUsageOutMaxTask TRESUsageOutMin    
TRESUsageOutMinNode TRESUsageOutMinTask TRESUsageOutTot     UID                
User                UserCPU             WCKey               WCKeyID
</code></pre><pre><span></span><code>sacct<span class="w"> </span>-e
</code></pre><pre><span></span><code>sacct<span class="w"> </span>-o<span class="w"> </span>ALL<span class="w"> </span>-j<span class="w"> </span>&lt;jobid&gt;
</code></pre><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">SLURM_TIME_FORMAT</span><span class="o">=</span><span class="s2">"%a %m-%d %H:%M"</span><span class="w"> </span>
</code></pre><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">SACCT_FORMAT</span><span class="o">=</span><span class="s2">"user,jobid,jobname,nodelist%12,start%-20,end%-20,state%20,reqtres%40,TRESUsageInTot%200"</span>
</code></pre><pre><span></span><code>a guide for exit codes:

0 → success
non-zero → failure
Exit code 1 indicates a general failure
Exit code 2 indicates incorrect use of shell builtins
Exit codes 3-124 indicate some error in job (check software exit codes)
Exit code 125 indicates out of memory
Exit code 126 indicates command cannot execute
Exit code 127 indicates command not found
Exit code 128 indicates invalid argument to exit
Exit codes 129-192 indicate jobs terminated by Linux signals
For these, subtract 128 from the number and match to signal code
Enter kill -l to list signal codes
Enter man signal for more information
</code></pre><pre><span></span><code>sacct<span class="w"> </span>-o<span class="w"> </span>SubmitLine%250<span class="w"> </span>-j<span class="w"> </span>&lt;jobid&gt;<span class="w"> </span><span class="c1"># may need to increase field width</span>
</code></pre><pre><span></span><code>sacct<span class="w"> </span>-B<span class="w"> </span>-j<span class="w"> </span>&lt;jobid&gt;
</code></pre><pre><span></span><code>sacct<span class="w"> </span>-o<span class="w"> </span>WorkDir<span class="w"> </span>-j<span class="w"> </span>&lt;jobid&gt;
</code></pre><pre><span></span><code>sacct<span class="w"> </span>-k<span class="w"> </span><span class="m">00</span>:01<span class="w"> </span>-K<span class="w"> </span><span class="m">1</span>-0
</code></pre><pre><span></span><code>sacct --user bob --starttime $(date -d '3 months ago' +%D-%R) --state OUT_OF_MEMORY --timelimit-min 2-00:00:00 --format JobID,JobName,Elapsed,NCPUs,TotalCPU,CPUTime,ReqMem,MaxRSS,MaxDiskRead,MaxDiskWrite,State,ExitCode
</code></pre><pre><span></span><code>sacct -n -S now-14days -E now -X -s OOM | wc -l
</code></pre><pre><span></span><code>sacct -n -S now-14days -E now -X -s F | wc -l
</code></pre><pre><span></span><code>sacct -n -S now-2hours -E now -u jzhou1 -X -s OOM -o cputimeraw,reqmem --units=G |  awk '{timesum+=$1;ramsum+=$2} END{printf "%s (CPU hrs) \t%s (GB)\n",timesum/60, ramsum}'
</code></pre><pre><span></span><code>sacct -ar sas -o user%18,jobid,state,nodelist,maxrss,maxvm,reqmem -S now-1days -E now -u c-egutie16-55548 --units=G
</code></pre><pre><span></span><code>                 User JobID             State        NodeList     MaxRSS  MaxVMSize     ReqMem 
------------------ ------------ ---------- --------------- ---------- ---------- ---------- 
  c-egutie16-55548 11546            FAILED     compute-132                               5G 
               11546.extern  COMPLETED     compute-132          0          0            
               11546.0          FAILED     compute-132      1.88G      5.64G            
  c-egutie16-55548 11565            FAILED     compute-132                               5G 
               11565.extern  COMPLETED     compute-132          0          0            
               11565.0          FAILED     compute-132      1.86G      5.63G            
  c-egutie16-55548 11569         COMPLETED     compute-132                               5G 
               11569.extern  COMPLETED     compute-132          0          0            
               11569.0       COMPLETED     compute-132      1.22G      4.98G            
  c-egutie16-55548 11589        OUT_OF_ME+     compute-132                              15G 
               11589.extern  COMPLETED     compute-132          0          0            
               11589.0      OUT_OF_ME+     compute-132     16.49G     16.94G            
  c-egutie16-55548 11600           RUNNING     compute-132                             400G 
               11600.extern    RUNNING     compute-132                                  
               11600.0         RUNNING     compute-132
</code></pre><pre><span></span><code>sstat -j 11600 -o maxrss,maxvmsize,maxdiskwrite
MaxRSS  MaxVMSize MaxDiskWrite 
---------- ---------- ------------ 
61259220K 203077796K  55875510365
</code></pre><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">SLURM_TIME_FORMAT</span><span class="o">=</span><span class="s2">"%a %m-%d %H:%M"</span><span class="w"> </span>
</code></pre><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">SACCT_FORMAT</span><span class="o">=</span><span class="s2">"user,jobid,jobname,nodelist%12,start%-20,end%-20,state%20,reqtres%40,TRESUsageInTot%200"</span>
</code></pre><h2><a class="heading" href="../slurm/tips-sacctmgr">sacctmgr tips</a></h2><a class="url" href="../slurm/tips-sacctmgr">slurm/tips-sacctmgr/</a><pre><span></span><code># See our currently defined QOS in a readable format
sacctmgr show qos format=Name%20,Priority,Flags%30,MaxWall,MaxTRESPU%20,MaxJobsPU,MaxSubmitPU,MaxTRESPA%25

# See all users database values
sacctmgr show user withassoc  | less

# See a particular user's database values
sacctmgr show user withassoc where name=smburke

# WHO HAS EXTRA QOS -- shortens the output width
#  (but needs improvement to align column entries)
sacctmgr show user withassoc|grep -v "normal "|awk '{printf "%s\t\t%s\t%s\t\t%s%\n", $1,$3,$4,$7}'
</code></pre><pre><span></span><code># Dump the accounting database
sacctmgr dump &lt;cluster-name&gt; file=&lt;filename&gt;
</code></pre><pre><span></span><code># Add a QOS to a user's existing allowed QOS:
sacctmgr mod user mmill116 set qos+=high-priority
# or, you can redefine their whole list
sacctmgr mod user where name=tunison set qos=normal,shared-200-2

# Remove a QOS from a user's existing allowed QOS:
sacctmgr mod user where name=tunison set qos-=shared-200-2 # to remove

# Limit a user's ability to run and submit jobs
sacctmgr mod user where name=tunison set MaxJobs=100,MaxSubmit=200

# How JHPCE3 users accounts are created in the sacctmgr database
sacctmgr -i create user name=$userid cluster=jhpce3 account=jhpce 

# How C-SUB users accounts are created in the sacctmgr database on jhpcecms01
sacctmgr -i create user name=$userid account=generic cluster=cms 
</code></pre><pre><span></span><code># Define a QOS limiting a user to 25 running jobs with a max of 50 pending or running
sacctmgr add qos job-25run50sub

# You MUST define these flags for the QOS to work as expected
sacctmgr modify qos job-25run50sub set flags=DenyOnLimit,OverPartQOS
sacctmgr modify qos job-25run50sub set MaxJobsPerUser=25 MaxSubmitJobsPerUser=50

# Remove one of those parameters
sacctmgr modify qos job-25run50sub set MaxJobsPerUser=-1

# Delete the QOS (they can't be renamed)
sacctmgr delete qos job-25run50sub

# Limit each user to 512GB and 100 CPU:
sacctmgr modify qos shared-default set MaxTRESPerUser=mem=524288 MaxTRESPerUser=cpu=100

# Limit maximum job run time to 1 day
sacctmgr modify qos cms-larger set MaxWall=1-0

# Limit each user to one of: a pending or running job.
# Limit whole cluster to running 1 job with up to one more pending
# This means only one job using this QOS can run in the whole cluster. To put a lid on things. If you include MaxJobsPA=1 then no second user can submit
#
sacctmgr modify qos cms-larger set MaxJobsPerUser=1 MaxSubmitJobsPerUser=1  MaxSubmitJobsPA=2

# You cannot rename a QOS, so you have to delete the old name -- be aware that jobs might be using it!!!
sacctmgr delete qos qosname
</code></pre><pre><span></span><code># View the slurmdbd configuration in force
sacctmgr show Configuration | less

# Perform a self-check of database
sacctmgr show problems

# Check history of sacctmgr operations - useful to see users added, QOS changes
# "Modify Clusters" might be slurmctld restarts
# (Output width is inadequate but most/all cut-off material isn't that useful)
# (which you can see by running command with -p argument and redirect to a file)
sacctmgr show transaction | less
sacctmgr -p show transaction &gt; /tmp/lookatme

# Check RPC statistics (watch out for users with extremely high numbers of RPC)
# (these stats might be since the last time the slurmctld was restarted??)
sacctmgr show stats | less

# You can clear the stats and then watch how quickly a suspicuous user racks up RPC calls
sacctmgr clear stats
</code></pre><pre><span></span><code># Display TRES (Trackable RESources) (our clusters may not be identical)
# TRES can be iunvolved in QOS (fewer in version 22.05 than in 24.05)
sacctmgr show tres
    Type            Name     ID 
-------- --------------- ------ 
     cpu                      1 
     mem                      2 
  energy                      3 
    node                      4 
 billing                      5 
      fs            disk      6 
    vmem                      7 
   pages                      8 
    gres             gpu   1001 
    gres     gpu:tesv100   1002 
    gres      gpu:titanv   1003 
    gres     gpu:tesa100   1004 
    gres    gpu:tesv100s   1005 
</code></pre><h2><a class="heading" href="../slurm/tips-scontrol">scontrol tips</a></h2><a class="url" href="../slurm/tips-scontrol">slurm/tips-scontrol/</a><pre><span></span><code>scontrol<span class="w"> </span>show<span class="w"> </span>--details<span class="w"> </span>job<span class="w"> </span>&lt;jobid&gt;
</code></pre><pre><span></span><code>scontrol<span class="w"> </span>show<span class="w"> </span>node<span class="w"> </span>&lt;nodename&gt;
</code></pre><pre><span></span><code>scontrol<span class="w"> </span>show<span class="w"> </span>partition<span class="w"> </span>&lt;partitionname&gt;
</code></pre><pre><span></span><code>scontrol<span class="w"> </span>top<span class="w"> </span>&lt;jobid&gt;
</code></pre><pre><span></span><code>scontrol<span class="w"> </span>update<span class="w"> </span><span class="nv">jobid</span><span class="o">=</span>&lt;jobid&gt;<span class="w"> </span><span class="nv">nice</span><span class="o">=</span>&lt;adjustment&gt;<span class="w"> </span><span class="c1"># larger #s decrease the priority</span>
</code></pre><pre><span></span><code>scontrol<span class="w"> </span>update<span class="w"> </span><span class="nv">jobid</span><span class="o">=</span>&lt;jobid&gt;<span class="w"> </span><span class="nv">ArrayTaskThrottle</span><span class="o">=</span>&lt;count&gt;
</code></pre><pre><span></span><code>scontrol<span class="w"> </span>update<span class="w"> </span><span class="nv">jobid</span><span class="o">=</span>&lt;jobid&gt;<span class="w"> </span><span class="nv">TimeLimit</span><span class="o">=</span>&lt;time-specification&gt;
</code></pre><pre><span></span><code>scontrol<span class="w"> </span>hold<span class="w"> </span>&lt;job-list&gt;<span class="w">  </span><span class="c1"># Can be comma-separated list of jobids</span>
</code></pre><pre><span></span><code>scontrol<span class="w"> </span>release<span class="w"> </span>&lt;job-list&gt;<span class="w">  </span><span class="c1"># Can be comma-separated list of jobids</span>
</code></pre><pre><span></span><code>scontrol<span class="w"> </span>update<span class="w"> </span><span class="nv">jobid</span><span class="o">=</span>&lt;jobid&gt;<span class="w"> </span><span class="nv">nice</span><span class="o">=</span><span class="m">10</span>
</code></pre><pre><span></span><code>scontrol<span class="w"> </span>update<span class="w"> </span><span class="nv">jobid</span><span class="o">=</span>&lt;jobid&gt;<span class="w"> </span><span class="nv">MinMemoryNode</span><span class="o">=</span><span class="m">1024</span>
</code></pre><pre><span></span><code>scontrol<span class="w"> </span>update<span class="w"> </span><span class="nv">jobid</span><span class="o">=</span>&lt;jobid&gt;<span class="w"> </span><span class="nv">mailtype</span><span class="o">=</span>time_limit_80
</code></pre><pre><span></span><code>scontrol<span class="w"> </span>update<span class="w"> </span><span class="nv">jobid</span><span class="o">=</span>&lt;jobid&gt;<span class="w"> </span><span class="nv">mailuser</span><span class="o">=</span>&lt;your-address@jh.edu&gt;
</code></pre><pre><span></span><code>scontrol<span class="w"> </span>update<span class="w"> </span><span class="nv">nodename</span><span class="o">=</span>compute-112<span class="w"> </span><span class="nv">state</span><span class="o">=</span>resume<span class="w"> </span><span class="nv">reason</span><span class="o">=</span><span class="s2">"JHPCE: Fixed sssd problem"</span>
</code></pre><pre><span></span><code>scontrol<span class="w"> </span>show<span class="w"> </span>config
scontrol<span class="w"> </span>show<span class="w"> </span>config<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-i<span class="w"> </span>debug<span class="w"> </span><span class="c1"># show debug, debugflags</span>
</code></pre><pre><span></span><code>scontrol<span class="w"> </span>setdebug<span class="w"> </span>info<span class="w"> </span><span class="o">[</span><span class="nv">nodes</span><span class="o">=</span>&lt;nodelist&gt;<span class="o">]</span>
<span class="c1"># (info is our normal level, so please return to that after debugging)</span>
<span class="c1"># values in order: quiet,fatal,error,info,verbose,debug,debug2 thru debug5</span>
</code></pre><pre><span></span><code>scontrol<span class="w"> </span>setdebugflags<span class="w"> </span>+<span class="w"> </span><span class="p">|</span><span class="w"> </span>-<span class="w"> </span>FLAG<span class="w"> </span><span class="o">[</span><span class="nv">nodes</span><span class="o">=</span>&lt;nodelist&gt;<span class="o">]</span>
<span class="c1"># The plus or minus is required</span>
<span class="c1"># Possibly most interesting flags:</span>
<span class="c1"># Backfill, BackfillMap, CPU_Bind, Gres, NodeFeatures, Priority, Reservation, Steps, TraceJobs</span>
</code></pre><pre><span></span><code>scontrol<span class="w"> </span>update<span class="w"> </span><span class="nv">partitionname</span><span class="o">=</span>interactive<span class="w"> </span><span class="nv">allowqos</span><span class="o">=</span>normal,interactive-default
</code></pre><pre><span></span><code>scontrol<span class="w"> </span>show<span class="w"> </span>reservation
</code></pre><pre><span></span><code>scontrol<span class="w"> </span>create<span class="w"> </span>reservation<span class="w"> </span><span class="nv">starttime</span><span class="o">=</span>now<span class="w"> </span><span class="nv">duration</span><span class="o">=</span>UNLIMITED<span class="w"> </span><span class="nv">user</span><span class="o">=</span>root,tunison,mmill116,jyang<span class="w"> </span><span class="nv">flags</span><span class="o">=</span>maint,flex,ignore_jobs,NO_HOLD_JOBS_AFTER<span class="w"> </span><span class="nv">reservation</span><span class="o">=</span>resv-name<span class="w"> </span><span class="nv">nodes</span><span class="o">=</span>compute-number
</code></pre><pre><span></span><code>scontrol<span class="w"> </span>update<span class="w"> </span><span class="nv">reservation</span><span class="o">=</span>&lt;resv-name&gt;<span class="w"> </span><span class="nv">user</span><span class="o">+=</span>&lt;username&gt;
</code></pre><pre><span></span><code><span class="k">for</span><span class="w"> </span>part<span class="w"> </span><span class="k">in</span><span class="w"> </span>shared<span class="w"> </span>interactive<span class="w"> </span>cee<span class="w"> </span>cegs2<span class="w"> </span>transfer<span class="w"> </span>cancergen<span class="w"> </span>sas<span class="w"> </span>bstgpu<span class="w"> </span>gpu<span class="w"> </span>neuron<span class="w"> </span>bader<span class="w"> </span>caracol<span class="w"> </span>chatterjee<span class="w"> </span>echodac<span class="w"> </span>gee<span class="w"> </span>gpu-test<span class="w"> </span>hl<span class="w"> </span>hongkai<span class="w"> </span>stanley<span class="w"> </span>bluejay<span class="p">;</span>
<span class="k">do</span>
scontrol<span class="w"> </span>create<span class="w"> </span><span class="nv">reservation</span><span class="o">=</span>power-outage-<span class="nv">$part</span><span class="w"> </span><span class="nv">flags</span><span class="o">=</span>maint,ignore_jobs,part_nodes<span class="w"> </span><span class="nv">starttime</span><span class="o">=</span><span class="m">2024</span>-07-15T17:00<span class="w"> </span><span class="nv">endtime</span><span class="o">=</span><span class="m">2024</span>-07-22T17:00<span class="w"> </span><span class="nv">nodes</span><span class="o">=</span>all<span class="w"> </span><span class="nv">users</span><span class="o">=</span>root<span class="w"> </span><span class="nv">partitionname</span><span class="o">=</span><span class="nv">$part</span>
<span class="k">done</span>
</code></pre><pre><span></span><code>scontrol<span class="w"> </span>delete<span class="w"> </span><span class="nv">reservation</span><span class="o">=</span>&lt;resv-name&gt;
</code></pre><pre><span></span><code>scontrol<span class="w"> </span>update<span class="w"> </span><span class="nv">reservation</span><span class="o">=</span>&lt;resv-name&gt;<span class="w"> </span><span class="nv">endtime</span><span class="o">=</span>now
</code></pre><h2><a class="heading" href="../slurm/tips-squeue">squeue tips</a></h2><a class="url" href="../slurm/tips-squeue">slurm/tips-squeue/</a><pre><span></span><code>squeue<span class="w"> </span>--me
</code></pre><pre><span></span><code>A bash shell routine you can add to your .bashrc:
```marksq() { (squeue -O JobArrayID:10" ",username:8" ",partition:7" ",name:10" ",statecompact:3,reason:12" ",reservation,,PendingTime:7" ",tres:20|sed 's/,no.*//' | sed 's/TRES_ALLOC[ ]*$/TRES_ALLOC/') }
</code></pre><pre><span></span><code>               HH:MM[:SS][AM|PM]
               MMDD[YY][-HH:MM[:SS]]
               MM.DD[.YY][-HH:MM[:SS]]
               MM/DD[/YY][-HH:MM[:SS]]
               YYYY-MM-DD[THH:MM[:SS]]
</code></pre><pre><span></span><code>sacct<span class="w"> </span>-e
</code></pre><pre><span></span><code>sacct<span class="w"> </span>-o<span class="w"> </span>ALL<span class="w"> </span>-j<span class="w"> </span>&lt;jobid&gt;
</code></pre><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">SLURM_TIME_FORMAT</span><span class="o">=</span><span class="s2">"%a %m-%d %H:%M"</span><span class="w"> </span>
</code></pre><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">SACCT_FORMAT</span><span class="o">=</span><span class="s2">"user,jobid,jobname,nodelist%12,start%-20,end%-20,state%20,reqtres%40,TRESUsageInTot%200"</span>
</code></pre><pre><span></span><code>a guide for exit codes:

0 → success
non-zero → failure
Exit code 1 indicates a general failure
Exit code 2 indicates incorrect use of shell builtins
Exit codes 3-124 indicate some error in job (check software exit codes)
Exit code 125 indicates out of memory
Exit code 126 indicates command cannot execute
Exit code 127 indicates command not found
Exit code 128 indicates invalid argument to exit
Exit codes 129-192 indicate jobs terminated by Linux signals
For these, subtract 128 from the number and match to signal code
Enter kill -l to list signal codes
Enter man signal for more information
</code></pre><pre><span></span><code>sacct<span class="w"> </span>-o<span class="w"> </span>SubmitLine<span class="w"> </span>-j<span class="w"> </span>&lt;jobid&gt;
</code></pre><pre><span></span><code>sacct<span class="w"> </span>-B<span class="w"> </span>-j<span class="w"> </span>&lt;jobid&gt;
</code></pre><pre><span></span><code>sacct<span class="w"> </span>-o<span class="w"> </span>WorkDir<span class="w"> </span>-j<span class="w"> </span>&lt;jobid&gt;
</code></pre><pre><span></span><code>sacct<span class="w"> </span>-k<span class="w"> </span><span class="m">00</span>:01<span class="w"> </span>-K<span class="w"> </span><span class="m">1</span>-0
</code></pre><h2><a class="heading" href="../slurm/whenstart">When Will My Job Start?</a></h2><a class="url" href="../slurm/whenstart">slurm/whenstart/</a><pre><span></span><code>squeue<span class="w"> </span>--me<span class="w"> </span>--start
</code></pre><pre><span></span><code>sprio<span class="w"> </span>-S<span class="w"> </span>-y,p,u<span class="w"> </span><span class="p">|</span><span class="w"> </span>less
</code></pre><pre><span></span><code>sprio<span class="w"> </span>-o<span class="w"> </span><span class="s2">"%.15i %9r %.8u %.10Y %.10A %.10F %.10P"</span><span class="w"> </span>-S<span class="w"> </span>-y,p,u
</code></pre><pre><span></span><code>sshare<span class="w"> </span>-a<span class="w"> </span><span class="p">|</span><span class="w"> </span>sort<span class="w"> </span>-k7nr<span class="w"> </span><span class="p">|</span><span class="w"> </span>less
</code></pre><h2><a class="heading" href="../slurm/includes/sacct-output-fields">Sacct output fields</a></h2><a class="url" href="../slurm/includes/sacct-output-fields">slurm/includes/sacct-output-fields/</a><pre><span></span><code>Account             AdminComment        AllocCPUS           AllocNodes         
AllocTRES           AssocID             AveCPU              AveCPUFreq         
AveDiskRead         AveDiskWrite        AvePages            AveRSS             
AveVMSize           BlockID             Cluster             Comment            
Constraints         ConsumedEnergy      ConsumedEnergyRaw   Container          
CPUTime             CPUTimeRAW          DBIndex             DerivedExitCode    
Elapsed             ElapsedRaw          Eligible            End                
ExitCode            Flags               GID                 Group              
JobID               JobIDRaw            JobName             Layout             
MaxDiskRead         MaxDiskReadNode     MaxDiskReadTask     MaxDiskWrite       
MaxDiskWriteNode    MaxDiskWriteTask    MaxPages            MaxPagesNode       
MaxPagesTask        MaxRSS              MaxRSSNode          MaxRSSTask         
MaxVMSize           MaxVMSizeNode       MaxVMSizeTask       McsLabel           
MinCPU              MinCPUNode          MinCPUTask          NCPUS              
NNodes              NodeList            NTasks              Partition          
Priority            QOS                 QOSRAW              Reason             
ReqCPUFreq          ReqCPUFreqGov       ReqCPUFreqMax       ReqCPUFreqMin      
ReqCPUS             ReqMem              ReqNodes            ReqTRES            
Reservation         ReservationId       Reserved            ResvCPU            
ResvCPURAW          Start               State               Submit             
SubmitLine          Suspended           SystemComment       SystemCPU          
Timelimit           TimelimitRaw        TotalCPU            TRESUsageInAve     
TRESUsageInMax      TRESUsageInMaxNode  TRESUsageInMaxTask  TRESUsageInMin     
TRESUsageInMinNode  TRESUsageInMinTask  TRESUsageInTot      TRESUsageOutAve    
TRESUsageOutMax     TRESUsageOutMaxNode TRESUsageOutMaxTask TRESUsageOutMin    
TRESUsageOutMinNode TRESUsageOutMinTask TRESUsageOutTot     UID                
User                UserCPU             WCKey               WCKeyID
</code></pre><h2><a class="heading" href="../storage/backups-restores">Backups and Restores</a></h2><a class="url" href="../storage/backups-restores">storage/backups-restores/</a><pre><span></span><code>cd /users/.zfs/snapshot
ls -ld */your-userid/bob/frank/susan
cp -p 2024-02-16-23:00/your-userid/bob/frank/susan $HOME/restored-susan
</code></pre><h2><a class="heading" href="../storage/quotas">Quotas</a></h2><a class="url" href="../storage/quotas">storage/quotas/</a><pre><span></span><code><span class="nb">cd</span>
du<span class="w"> </span>-sh<span class="w"> </span>.
</code></pre><pre><span></span><code><span class="nb">cd</span><span class="w"> </span><span class="nv">$MYSCRATCH</span>
du<span class="w"> </span>-sh<span class="w"> </span>.
</code></pre><h2><a class="heading" href="../storage/storage-tips">Storage Tips</a></h2><a class="url" href="../storage/storage-tips">storage/storage-tips/</a><pre><span></span><code>[login31 /users/mmill116]$ ls -l .bash_history 
-rw------- 1 mmill116 mmi 586047 Apr 19 12:35 .bash_history
</code></pre><pre><span></span><code>[login31 /users/mmill116]$ du .bash_history
229 .bash_history
</code></pre><pre><span></span><code>[login31 /users/mmill116]$ du --apparent-size .bash_history 
573 .bash_history
</code></pre><pre><span></span><code>[login31 /users/mmill116]$ du --apparent-size -h .bash_history 
573K    .bash_history
</code></pre><pre><span></span><code>[login31 /users/mmill116]$ du -sh --apparent-size R
^C
[login31 /users/mmill116]$ srun --pty bash
srun: job 4707899 queued and waiting for resources
srun: job 4707899 has been allocated resources
[compute-048 /users/mmill116]$ time du -sh --apparent-size R
4.9G    R

real    4m49.219s
user    0m0.406s
sys 0m7.840s
</code></pre><pre><span></span><code>[compute-048 /users/mmill116]$ time du -sh R
4.2G    R

real    0m51.687s
user    0m0.486s
sys 0m11.553s
</code></pre><pre><span></span><code>[compute-048 /users/mmill116]$ dd if=/dev/zero of=$MYSCRATCH/zero-file bs=1M count=10000
10000+0 records in
10000+0 records out
10485760000 bytes (10 GB, 9.8 GiB) copied, 60.8073 s, 172 MB/s
[compute-048 /users/mmill116]$ dd if=/dev/urandom of=$MYSCRATCH/zero-file-rand bs=1M count=10000
10000+0 records in
10000+0 records out
10485760000 bytes (10 GB, 9.8 GiB) copied, 181.059 s, 57.9 MB/s
</code></pre><pre><span></span><code>[compute-048 /users/mmill116]$ du -sh $MYSCRATCH/zero-file
512 /fastscratch/myscratch/mmill116/zero-file
[compute-048 /users/mmill116]$ du -sh $MYSCRATCH/zero-file-rand
9.8G    /fastscratch/myscratch/mmill116/zero-file-rand
[compute-048 /users/mmill116]$ du -sh --apparent-size $MYSCRATCH/zero-file
9.8G    /fastscratch/myscratch/mmill116/zero-file
[compute-048 /users/mmill116]$ du -sh --apparent-size $MYSCRATCH/zero-file-rand
9.8G    /fastscratch/myscratch/mmill116/zero-file-rand
</code></pre><pre><span></span><code>[compute-048 /users/mmill116]$ hquota
Username     Space Used         Quota     
mmill116     62G                100G      
</code></pre><pre><span></span><code>[compute-048 /users/mmill116]$ du -sh $MYSCRATCH
9.9G    /fastscratch/myscratch/mmill116
</code></pre><pre><span></span><code>[compute-048 /users/mmill116]$ df -h /dcs04/proj1/data
Filesystem                       Size  Used Avail Use% Mounted on
192.168.11.209:/srv/dcs04/proj1   60T   60T   43G 100% /dcs04/proj1
</code></pre><pre><span></span><code>FREETMP=`df -k /tmp | grep tmp | awk '{print $4}'`
if [ $FREETMP -lt 10000000 ]
then
   echo "Not enough space in /tmp. Only $FREETMP KB available."
   exit 1
fi
</code></pre><h2><a class="heading" href="../sw/adding-pkgs">Adding Your Own Python and R Libraries</a></h2><a class="url" href="../sw/adding-pkgs">sw/adding-pkgs/</a><pre><span></span><code><span class="o">&gt;</span><span class="w"> </span><span class="nf">install.packages</span><span class="p">(</span><span class="s">"sf"</span><span class="p">)</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nf">install.packages</span><span class="p">(</span><span class="s">'terra'</span><span class="p">,</span><span class="w"> </span><span class="n">repos</span><span class="o">=</span><span class="s">'https://rspatial.r-universe.dev'</span><span class="p">)</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nf">library</span><span class="p">(</span><span class="s">'sf'</span><span class="p">)</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nf">library</span><span class="p">(</span><span class="s">'terra'</span><span class="p">)</span>
</code></pre><pre><span></span><code>STDFLAGS = -O2 -pipe -Wall 
</code></pre><h2><a class="heading" href="../sw/building-from-src">Compile from Source</a></h2><a class="url" href="../sw/building-from-src">sw/building-from-src/</a><pre><span></span><code>[test@compute-110 ~]$ mkdir download
[test@compute-110 ~]$ cd download/
[test@compute-110 download]$ wget http://ftp.gnu.org/gnu/units/units-2.23.tar.gz
--2024-03-18 11:57:38--  http://ftp.gnu.org/gnu/units/units-2.23.tar.gz
Resolving ftp.gnu.org (ftp.gnu.org)... 209.51.188.20, 2001:470:142:3::b
Connecting to ftp.gnu.org (ftp.gnu.org)|209.51.188.20|:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 1423494 (1.4M) [application/x-gzip]
Saving to: ‘units-2.23.tar.gz’

units-2.23.tar.gz                                 100%[==========================================================================================================&gt;]   1.36M  --.-KB/s    in 0.1s    

2024-03-18 11:57:39 (12.7 MB/s) - ‘units-2.23.tar.gz’ saved [1423494/1423494]
</code></pre><pre><span></span><code>[test@compute-110 download]$ ls -l
-rw-r--r-- 1 test test 1423494 Feb 18 22:45 units-2.23.tar.gz

[test@compute-110 download]$ tar -zxvf units-2.23.tar.gz 
units-2.23/
units-2.23/definitions.units
units-2.23/units.txt
...
</code></pre><pre><span></span><code>[test@compute-110 download]$ cd units-2.23/
[test@compute-110 units-2.23]$ ./configure --prefix=$HOME/mysoftware/units-2.23
</code></pre><pre><span></span><code>[test@compute-110 units-2.23]$ make
[test@compute-110 units-2.23]$ make install
</code></pre><pre><span></span><code>[test@compute-110 ~]$ export PATH=$PATH:$HOME/mysoftware/units-2.23/bin
</code></pre><pre><span></span><code>[test@compute-110 ~]$ units
...
You have: tempF(75)
You want: tempC
    23.888889
You have: exit
[test@compute-110 ~]$
</code></pre><h2><a class="heading" href="../sw/conda">Conda Environment</a></h2><a class="url" href="../sw/conda">sw/conda/</a><pre><span></span><code>module load conda
</code></pre><pre><span></span><code>module load anaconda
</code></pre><pre><span></span><code>conda create -n &lt;evn-name&gt;
</code></pre><pre><span></span><code>conda info --envs
</code></pre><pre><span></span><code>conda activate env-name
conda install package-name
</code></pre><pre><span></span><code>conda install package-name=2.3.4
</code></pre><pre><span></span><code>conda install package-name=2
</code></pre><pre><span></span><code>conda install conda-forge::numpy
</code></pre><h2><a class="heading" href="../sw/matlab">Matlab</a></h2><a class="url" href="../sw/matlab">sw/matlab/</a><pre><span></span><code>[test@login31 ~]$ srun --mem 10G --x11 --pty bash
srun: job 3109996 queued and waiting for resources
srun: job 3109996 has been allocated resources
[test@compute-152 ~]$ module load matlab
[test@compute-152 ~]$ module list

Currently Loaded Modules:
  1) JHPCE_ROCKY9_DEFAULT_ENV   2) JHPCE_tools/3.0   3) matlab/R2023a

[test@compute-152 ~]$ matlab
</code></pre><pre><span></span><code>x = [1 2 3 4];
fprintf('Example number = %i\n', x)
</code></pre><pre><span></span><code>#!/bin/bash

#SBATCH --mem=2G
#SBATCH --time=5:00

#SBATCH -o slurm.%N.%J.%u.out   # STDOUT
#SBATCH -e slurm.%N.%J.%u.err   # STDERR

module load matlab
matlab -nojvm -nodisplay -r "matlab_example;quit;"
</code></pre><pre><span></span><code>[test@login31 ~]$ sbatch matlab_example.sh 
Submitted batch job 3110505
</code></pre><pre><span></span><code>[test@login31 ~]$ squeue --me
             JOBID PARTITION     NAME     USER ST       TIME  NODES NODELIST(REASON)
           3110505    shared matlab_e    test  R       0:03      1 compute-100
</code></pre><pre><span></span><code>-rw-r--r-- 1 test test   0 Mar 12 17:09 slurm.compute-100.3110505.test.err
-rw-r--r-- 1 test test 410 Mar 12 17:10 slurm.compute-100.3110505.test.out
</code></pre><pre><span></span><code>[test@login31 ~]$ cat slurm.compute-100.3110505.test.out
                                May 25, 2023

For online documentation, see https://www.mathworks.com/support
For product information, visit www.mathworks.com.

Example number = 1
Example number = 2
Example number = 3
Example number = 4
</code></pre><h2><a class="heading" href="../sw/modules">Modules</a></h2><a class="url" href="../sw/modules">sw/modules/</a><pre><code>[test@compute-107 ~]$ <span style="background-color:yellow">module list</span>

Currently Loaded Modules:
  1) JHPCE_ROCKY9_DEFAULT_ENV   2) JHPCE_tools/3.0
</code></pre><pre><span></span><code><span class="gp">[test@compute-107 ~]$ </span>module<span class="w"> </span>list

<span class="go">Currently Loaded Modules:</span>
<span class="go">  1) JHPCE_ROCKY9_DEFAULT_ENV   2) JHPCE_tools/3.0</span>
</code></pre><pre><span></span><code>[test@compute-107 ~]$ module avail
</code></pre><pre><span></span><code>[test@compute-107 ~]$ module load R
Loading R/4.3
(4.3)[test@compute-107 ~]$ module list

Currently Loaded Modules:
<span class="hll">  1) JHPCE_ROCKY9_DEFAULT_ENV   2) JHPCE_tools/3.0   3) conda/3-23.3.1   4) R/4.3
</span></code></pre><pre><span></span><code>(4.3)[test@compute-107 ~]$ module unload R
Unloading R/4.3
[test@compute-107 ~]$ module list

Currently Loaded Modules:
  1) JHPCE_ROCKY9_DEFAULT_ENV   2) JHPCE_tools/3.0   3) conda/3-23.3.1
</code></pre><pre><span></span><code>[test@compute-107 ~]$ module help
Usage: module [options] sub-command [args ...]
...
</code></pre><pre><span></span><code>module list                 # list your currently loaded modules
module load   &lt;MODULEFILE&gt;  # configures your environment according to modulefile 
module unload &lt;MODULEFILE&gt;  # rolls back the configuration performed by the associated load
module avail                # shows what modules are available for loading
module help                 # 
module spider               # lists all modules, including ones not in your MODULEPATH
module spider &lt;NAME&gt;        # search for a module whose name includes &lt;NAME&gt;
module save &lt;NAME&gt;.         # save currently-loaded modules to "default" or optionally to &lt;NAME&gt;
module restore &lt;NAME&gt;.      # load the saved collection
</code></pre><pre><span></span><code>JHPCE_ROCKY9_DEFAULT_ENV
JHPCE_tools/3.0
</code></pre><pre><span></span><code><span class="c1"># Always source the global bashrc</span>
<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-f<span class="w"> </span>/etc/bashrc<span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
.<span class="w"> </span>/etc/bashrc
<span class="k">fi</span>

<span class="c1"># If I prefer gcc/4.8.1 as my default compiler</span>
module<span class="w"> </span>load<span class="w"> </span>gcc/4.8.1
</code></pre><h2><a class="heading" href="../sw/python-pkg">Python Packages</a></h2><a class="url" href="../sw/python-pkg">sw/python-pkg/</a><pre><span></span><code>[test@compute-107 ~]$ module load python
[test@compute-107 ~]$ python3 --version
Python 3.9.14
</code></pre><pre><span></span><code>[compute-107 /users/test]$ python3 -m pip --version
pip 23.1.2 from /jhpce/shared/jhpce/core/python/3.9.14/lib/python3.9/site-packages/pip (python 3.9)
</code></pre><pre><span></span><code>[test@compute-107 ~]$ python3 -m pip install --user requests
</code></pre><pre><span></span><code>[test@compute-107 ~]$ python3 -m pip install --user requests=2.31.0
</code></pre><h2><a class="heading" href="../sw/python">Python</a></h2><a class="url" href="../sw/python">sw/python/</a><pre><span></span><code>[test@login31 ~]$ srun --pty bash
srun: job 3168742 queued and waiting for resources
srun: job 3168742 has been allocated resources
[test@compute-100 ~]$ module load python
[test@compute-100 ~]$ module list

Currently Loaded Modules:
  1) JHPCE_ROCKY9_DEFAULT_ENV   2) JHPCE_tools/3.0   3) python/3.9.14

[test@compute-100 ~]$ python3
Python 3.9.14 (main, May 16 2023, 14:32:18) 
[GCC 11.3.1 20220421 (Red Hat 11.3.1-2)] on linux
Type "help", "copyright", "credits" or "license" for more information.
&gt;&gt;&gt; 
</code></pre><pre><span></span><code>values = [88, 47, 96, 85, 72]
for i in values:
    print('Example number = ', i)
</code></pre><pre><span></span><code>#!/bin/bash

#SBATCH --mem=2G
#SBATCH --time=2:00

#SBATCH -o slurm.%N.%J.%u.out   # STDOUT
#SBATCH -e slurm.%N.%J.%u.err   # STDERR

module load python
python3 python_example.py
</code></pre><pre><span></span><code>[test@login31 ~]$ sbatch python_example.sh 
Submitted batch job 3169570
</code></pre><pre><span></span><code>[test@login31 ~]$ squeue --me
             JOBID PARTITION     NAME     USER ST       TIME  NODES NODELIST(REASON)
           3169570    shared python_e    test R       0:01      1 compute-153
</code></pre><pre><span></span><code>-rw-r--r-- 1 test test   0 Mar 13 12:45 slurm.compute-153.3169570.test.err
-rw-r--r-- 1 test test 105 Mar 13 12:45 slurm.compute-153.3169570.test.out
</code></pre><pre><span></span><code>[test@login31 ~]$ cat slurm.compute-153.3169570.test.out
Example number =  88
Example number =  47
Example number =  96
Example number =  85
Example number =  72
</code></pre><h2><a class="heading" href="../sw/r-pkg">R Packages</a></h2><a class="url" href="../sw/r-pkg">sw/r-pkg/</a><pre><span></span><code>[test@compute-107 ~]$ module load R
Loading R/4.3
(4.3)[test@compute-107 ~]$
</code></pre><pre><span></span><code>(4.3)[test@compute-107 ~]$ R

R version 4.3.1 Patched (2023-07-19 r84711) -- "Beagle Scouts"
Copyright (C) 2023 The R Foundation for Statistical Computing
Platform: x86_64-conda-linux-gnu (64-bit)
...
[Previously saved workspace restored]

&gt; install.package("your-package-name")
</code></pre><h2><a class="heading" href="../sw/r">R</a></h2><a class="url" href="../sw/r">sw/r/</a><pre><span></span><code>[test@login31 ~]$ srun --pty bash
srun: job 3176550 queued and waiting for resources
srun: job 3176550 has been allocated resources
[test@compute-152 ~]$ module load conda_R
Loading conda_R/4.3.x
(4.3.x)[test@compute-152 ~]$ module list

Currently Loaded Modules:
  1) JHPCE_ROCKY9_DEFAULT_ENV   2) JHPCE_tools/3.0   3) conda/3-23.3.1   4) conda_R/4.3.x

(4.3.x)[test@compute-152 ~]$ R

R version 4.3.2 Patched (2024-02-08 r85876) -- "Eye Holes"
Copyright (C) 2024 The R Foundation for Statistical Computing
Platform: x86_64-conda-linux-gnu (64-bit)
...
Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.
...
&gt; 
</code></pre><pre><span></span><code># Set output file name
pdf("plot1-R-results.pdf")

# Define 2 vectors
cars &lt;- c(1, 3, 6, 4, 9)
trucks &lt;- c(2, 5, 4, 5, 12)

# Graph cars using a y axis that ranges from 0 to 12
plot(cars, type="o", col="blue", ylim=c(0,12))

# Graph trucks with red dashed line and square points
lines(trucks, type="o", pch=22, lty=2, col="red")

# Create a title with a red, bold/italic font
title(main="Autos", col.main="red", font.main=4)
</code></pre><pre><span></span><code>#!/bin/bash

#SBATCH --mem=2G
#SBATCH --time=2:00

module load conda_R
R CMD BATCH plot1.r
</code></pre><pre><span></span><code>[test@login31 ~]$ sbatch plot1.sh 
Submitted batch job 3177833
</code></pre><pre><span></span><code>[test@login31 ~]$ squeue --me
             JOBID PARTITION     NAME     USER ST       TIME  NODES NODELIST(REASON)
           3177833    shared plot1.sh    test  R       0:03      1 compute-095
</code></pre><pre><span></span><code>-rw-r--r--    1 test test        22 Mar 13 16:29  slurm-3177833.out
-rw-r--r--    1 test test      4988 Mar 13 16:29  plot1-R-results.pdf
</code></pre><pre><span></span><code>[test@login31 ~]$ xpdf plot1-R-results.pdf
</code></pre><pre><span></span><code>[test@login31 ~]$ srun --mem 10G --x11 --pty bash
srun: job 3244190 queued and waiting for resources
srun: job 3244190 has been allocated resources
[test@compute-097 ~]$ module load R
Loading R/4.3
(4.3)[test@compute-097 ~]$ module load rstudio
(4.3)[test@compute-097 ~]$ rstudio
</code></pre><pre><span></span><code>ssh -X yourusername@jhpce01.jhsph.edu
</code></pre><h2><a class="heading" href="../sw/rstudio-server">R Studio Server</a></h2><a class="url" href="../sw/rstudio-server">sw/rstudio-server/</a><pre><span></span><code>[login31/users/jdoe1] $ **srun --pty --x11 --mem=10G bash**
Last login: Wed May 1 17:02:29 2019 from login31.cm.cluster
Loading conda_R/3.5.x
[compute-012 /users/jdoe1] $ **jhpce-rstudio-server**
------------
1) Establish your SSH tunnel.
* Windows users see:  https://jhpce.jhu.edu/sw/rstudio-server/
* Mac or Linux Desktop users, please type:
~C
-L 12345:compute-012:12345

2) From the browser running on your local system or SAFE desktop, go to:

  http://localhost:12345

3) When prompted for Username, enter your JHPCE ID:  jdoe1
4) When prompted for Password, enter your JHPCE password.

When you are finished using Rstudio Server, type &lt;CTRL&gt;-C

**~C**
ssh&gt; **-L 12345:compute-012:12345**
Forwarding port.
</code></pre><pre><span></span><code><span class="gp">[login31 /users/jdoe1] $ </span>srun<span class="w"> </span>--pty<span class="w"> </span>--x11<span class="w"> </span>--mem<span class="o">=</span>10G<span class="w"> </span>bash
<span class="go">Last login: Wed May 1 17:02:29 2019 from login31.cm.cluster</span>
<span class="go">Loading conda_R/3.5.x</span>
<span class="gp">[compute-012 /users/jdoe1] $ </span>jhpce-rstudio-server
<span class="go">------------</span>
<span class="go">1) Establish your SSH tunnel.</span>
<span class="go">* Windows users see: https://jhpce.jhu.edu/sw/rstudio-server/</span>
<span class="go">* Mac or Linux Desktop users, please type:</span>
<span class="go">~C</span>
<span class="go">-L 12345:compute-012:12345</span>

<span class="go">2) From the browser running on your local system or SAFE desktop, go to:</span>

<span class="go">  http://localhost:12345</span>

<span class="go">3) When prompted for Username, enter your JHPCE ID:  jdoe1</span>
<span class="go">4) When prompted for Password, enter your JHPCE password.</span>

<span class="go">When you are finished using Rstudio Server, type &lt;CTRL&gt;-C</span>

<span class="go">~C</span>
<span class="go">ssh&gt; -L 12345:compute-012:12345</span>
<span class="go">Forwarding port.</span>

<span class="go">****Cleaning up...</span>
<span class="go">------------</span>
<span class="go">Now type:</span>
<span class="go">~C</span>
<span class="go">-KL 41354</span>

<span class="gp">[compute-012 /users/jdoe1] $</span>
<span class="gp">[compute-012 /users/jdoe1] $</span>**~C**
<span class="go">ssh&gt; **-KL 12345**</span>
<span class="go">Canceled forwarding.</span>
<span class="gp">[compute-012 /users/jdoe1] $ </span><span class="nb">exit</span>
<span class="gp">[login31 /users/jdoe1] $ </span><span class="nb">exit</span>
</code></pre><h2><a class="heading" href="../sw/sas">SAS</a></h2><a class="url" href="../sw/sas">sw/sas/</a><pre><span></span><code>[test@login31 ~]$ srun --partition sas --mem 10G --x11 --pty bash
srun: job 3178287 queued and waiting for resources
srun: job 3178287 has been allocated resources

[test@compute-101 ~]$ module load sas
[test@compute-101 ~]$ module list

Currently Loaded Modules:
  1) JHPCE_ROCKY9_DEFAULT_ENV   2) JHPCE_tools/3.0   3) sas/9.4

[test@compute-101 ~]$ sas
</code></pre><pre><span></span><code>[test@login31 ~]$ srun --partition sas --mem 10G --x11 --pty bash
srun: job 3178287 queued and waiting for resources
srun: job 3178287 has been allocated resources

[test@compute-101 ~]$ module load sas
[test@compute-101 ~]$ module list

Currently Loaded Modules:
  1) JHPCE_ROCKY9_DEFAULT_ENV   2) JHPCE_tools/3.0   3) sas/9.4
</code></pre><pre><span></span><code>sas -helpbrowser SAS -xrm "SAS.webBrowser:'/usr/bin/chromium-browser'" -xrm "SAS.helpBrowser:'/usr/bin/chromium-browser'"
</code></pre><pre><span></span><code>sas -helpbrowser SAS -xrm "SAS.webBrowser:'/usr/bin/firefox'" -xrm "SAS.helpBrowser:'/usr/bin/firefox'"
</code></pre><pre><span></span><code>csas
</code></pre><pre><span></span><code>fsas
</code></pre><pre><span></span><code><span class="c1"># SAS routines for __interactive__ sessions where plotting is involved</span>
<span class="c1"># (because SAS generates HTML for the plots when run in interactive mode)</span>
<span class="c1"># </span>
<span class="c1"># (YOU HAVE TO RUN "module load SAS" before calling either of these routines)</span>
<span class="c1">#</span>
<span class="c1"># If you want to use Firefox as your web browser for SAS:</span>
<span class="c1">#</span>
fsas<span class="o">()</span><span class="w"> </span><span class="o">{</span><span class="w"> </span>sas<span class="w"> </span>-helpbrowser<span class="w"> </span>SAS<span class="w"> </span>-xrm<span class="w"> </span><span class="s2">"SAS.webBrowser:'/usr/bin/firefox'"</span><span class="w"> </span>-xrm<span class="w"> </span><span class="s2">"SAS.helpBrowser:'/usr/bin/firefox'"</span><span class="w"> </span><span class="s2">"</span><span class="nv">$@</span><span class="s2">"</span><span class="w"> </span>&gt;<span class="w"> </span>/dev/null<span class="w"> </span><span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span><span class="p">;</span><span class="w"> </span><span class="o">}</span>
<span class="c1">#</span>
<span class="c1"># If you want to use Chromium-browser as your web browser for SAS:</span>
<span class="c1">#</span>
csas<span class="o">()</span><span class="w"> </span><span class="o">{</span><span class="w"> </span>sas<span class="w"> </span>-helpbrowser<span class="w"> </span>SAS<span class="w"> </span>-xrm<span class="w"> </span><span class="s2">"SAS.webBrowser:'/usr/bin/chromium-browser'"</span><span class="w"> </span>-xrm<span class="w"> </span><span class="s2">"SAS.helpBrowser:'/usr/bin/chromium-browser'"</span><span class="w"> </span><span class="s2">"</span><span class="nv">$@</span><span class="s2">"</span><span class="w"> </span>&gt;<span class="w"> </span>/dev/null<span class="w"> </span><span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span><span class="p">;</span><span class="w"> </span><span class="o">}</span>
</code></pre><pre><span></span><code><span class="kr">DATA </span>CLASS;
     <span class="k">INPUT</span> NAME $ <span class="m">1-8</span> SEX $ <span class="m">10</span> AGE <span class="m">12-13</span> HEIGHT <span class="m">15-16</span> WEIGHT <span class="m">18-22</span>;
<span class="k">CARDS;</span>
<span class="x">JOHN     M 12 59 99.5</span>
<span class="x">JAMES    M 12 57 83.0</span>
<span class="x">ALFRED   M 14 69 112.5</span>
<span class="x">ALICE    F 13 56 84.0</span>

<span class="x">PROC MEANS;</span>
<span class="x">     VAR AGE HEIGHT WEIGHT;</span>
<span class="x">PROC PLOT;</span>
<span class="x">     PLOT WEIGHT*HEIGHT;</span>
<span class="x">ENDSAS;</span>
<span class="x">;</span>
</code></pre><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1">#SBATCH --partition=sas</span>
<span class="c1">#SBATCH --mem=2G</span>
<span class="c1">#SBATCH --time=2:00</span>

module<span class="w"> </span>load<span class="w"> </span>sas
sas<span class="w"> </span>class-info.sas
</code></pre><pre><span></span><code>[test@login31 ~]$ sbatch sas-demo1.sh
Submitted batch job 3178475
</code></pre><pre><span></span><code><span class="o">[</span>test@login31<span class="w"> </span>~<span class="o">]</span>$<span class="w"> </span>squeue<span class="w"> </span>--me
<span class="w">             </span>JOBID<span class="w"> </span>PARTITION<span class="w">     </span>NAME<span class="w">     </span>USER<span class="w"> </span>ST<span class="w">       </span>TIME<span class="w">  </span>NODES<span class="w"> </span>NODELIST<span class="o">(</span>REASON<span class="o">)</span>
<span class="w">            </span><span class="m">3178475</span><span class="w">       </span>sas<span class="w"> </span>sas-demo<span class="w">    </span><span class="nb">test</span><span class="w"> </span>R<span class="w">       </span><span class="m">0</span>:01<span class="w">      </span><span class="m">1</span><span class="w"> </span>compute-101
</code></pre><pre><span></span><code>-rw-r--r-- 1 test test    0 Mar 13 16:49 slurm-3178475.out
-rw-r--r-- 1 test test 2108 Mar 13 16:49 class-info.lst
</code></pre><pre><span></span><code>[test@login31 ~]$ cat class-info.lst

                                                        The MEANS Procedure

                           Variable    N            Mean         Std Dev         Minimum         Maximum
                           -----------------------------------------------------------------------------
                           AGE         4      12.7500000       0.9574271      12.0000000      14.0000000
                           HEIGHT      4      60.2500000       5.9651767      56.0000000      69.0000000
                           WEIGHT      4      94.7500000      14.0386372      83.0000000     112.5000000
                           -----------------------------------------------------------------------------
</code></pre><h2><a class="heading" href="../sw/stata">Stata</a></h2><a class="url" href="../sw/stata">sw/stata/</a><pre><span></span><code>[test@login31 ~]$ srun --mem 10G --x11 --pty bash
srun: job 3179341 queued and waiting for resources
srun: job 3179341 has been allocated resources
[test@compute-092 ~]$ module load stata
[test@compute-092 ~]$ module list

Currently Loaded Modules:
  1) JHPCE_ROCKY9_DEFAULT_ENV   2) JHPCE_tools/3.0   3) stata/17

[test@compute-092 ~]$ xstata
</code></pre><pre><span></span><code>program define hello
di "Hello There World 123"
end
hello
</code></pre><pre><span></span><code>#!/bin/bash

#SBATCH --mem=2G
#SBATCH --time=2:00

module load stata
stata -b stata-demo1.do
</code></pre><pre><span></span><code>[test@login31 ~]$ sbatch stata-demo1.sh
Submitted batch job 3179530
</code></pre><pre><span></span><code>[test@login31 ~]$ squeue --me
             JOBID PARTITION     NAME     USER ST       TIME  NODES NODELIST(REASON)
            3179530    shared stata-de    test  R       0:01      1 compute-092
</code></pre><pre><span></span><code>-rw-r--r-- 1 test test   0 Mar 13 17:29 slurm-3179530.out
-rw-r--r-- 1 test test 890 Mar 13 17:29 stata-demo1.log
</code></pre><pre><span></span><code>[test@login31 ~]$ cat stata-demo1.log
...
. do "stata-demo1.do" 

. program define hello
  1. di "Hello There World 123"
  2. end

. hello
Hello There World 123

. 
end of do-file
</code></pre><h2><a class="heading" href="../sw/sw-overview">Overview</a></h2><a class="url" href="../sw/sw-overview">sw/sw-overview/</a><pre><span></span><code>[test@compute-110 ~]$ module avail

--------------------------------------------------------------------------------- /jhpce/shared/jhpce/modulefiles ---------------------------------------------------------------------------------
   JHPCE_ROCKY9_DEFAULT_ENV (L)    bcl2fastq/2.17.1              freesurfer/7.4.1           gmp/6.2.1                 mathematica/13.3        python/3.11.8             stata/17
   JHPCE_tools/3.0          (L)    bowtie/2.5.1                  fsl/6.0.6.5                go/20.6                   matlab/R2023a    (D)    rstudio/2023.06.1         tex/20240117
   R_test/4.3.2                    conda/3-23.3.1-testing        gcc/9.5.0                  helix/23.10.0             matlab/R2023b           rust/1.76.0               wine/7.11
   afni/23.3.09                    conda/3-23.3.1         (D)    gcc/13.1.0          (D)    java/19            (D)    mpc/1.3.1               sas/9.0
   alphafold/4.3.1                 dcmtk/3.6.7                   gdal/3.6.0                 julia/1.9.2               mpfr/4.2.0              sas/9.4            (D)
   anaconda/2023.03                encfs/1.9.5                   ghostscript/10.02.1        kakoune/2023-08-05        python/3.9.14    (D)    shapeit/5.1.1
   aws/2.12.7                      ffmpeg/6.0                    glpk/5.0                   latex/20240117            python/3.10.13          singularity/3.11.4

------------------------------------------------------------------------------- /jhpce/shared/community/modulefiles -------------------------------------------------------------------------------
   R/4.3    bedtools/2.31.0    conda_R/devel    conda_R/test    conda_R/4.3.x (D)    conda_R/4.3

--------------------------------------------------------------------------------- /jhpce/shared/libd/modulefiles ----------------------------------------------------------------------------------
   PRSice/2.2.13           cell2location/0.1.3          fusion_twas/github            java/17                   plink/1.90b              samtools/1.18       (D)    trimgalore/0.6.6
   Salmon/1.2.1            cell2location/0.8a0   (D)    gatk/4.2.0.0                  java/18                   plink/2.00a4.6    (D)    samui/1.0.0-next.24        trimmomatic/0.39
   Salmon/1.10.1    (D)    cellpose/2.2.2               gffread/github                kallisto/0.46.1           qctool/2.0.7             samui/1.0.0-next.45 (D)    vampire/3.4.4
   arioc/1.51              cellprofiler/4.2.6           gffread/0.12.7         (D)    ldsc/1.0.1                qtl_gtex/dae3369         spaceranger/2.1.0          vcftools/0.1.16
   bamtofastq/1.4.1        cellranger/7.0.0             git-lfs/3.4.0                 magma/1.10                r_nac/1.0                spagcn/1.2.0               wiggletools/1.2.1
   bcftools/1.10.2         cellranger/7.2.0      (D)    git-status-size/github        methyldackel/0.5.2        regtools/0.5.33g         star/2.7.8a                wigtobigwig/2.9
   bcftools/1.18    (D)    cellranger_arc/2.0.2         graphst/da29b75               methylpy/1.4.3            resept/1.0.0             subread/2.0.0
   bfg/1.13.0              cibersortx/04_04_2020        hipstr/0.7                    nextflow/20.01.0          rmate/1.5.10             synapse/2.7.2
   bismark/0.23.0          dissect/dc45940c             hisat2/2.2.1                  nextflow/22.10.7          rseqc/3.0.1              synapse/3.1.1       (D)
   bs/1.3.0                fastqc/0.11.8                htslib/1.10.2                 nextflow/23.10.0   (D)    samblaster/0.1.26        tangram/1.0.4
   bustools/0.39.3         fastqc/0.12.1         (D)    htslib/1.18            (D)    paste/1.3.0               samtools/1.10            tensorqtl/1.0.8
</code></pre></p>







  
    
  
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1-2.1-2M12.5 7v5.2l4 2.4-1 1L11 13V7h1.5M11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2v1.8Z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">April 1, 2024</span>
  </span>

    
    
    
      
  
  <span class="md-source-file__fact">
    <span class="md-icon" title="Contributors">
      
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 4a4 4 0 0 1 4 4 4 4 0 0 1-4 4 4 4 0 0 1-4-4 4 4 0 0 1 4-4m0 10c4.42 0 8 1.79 8 4v2H4v-2c0-2.21 3.58-4 8-4Z"/></svg>
      
    </span>
    <nav>
      
        <a href="mailto:adig@jhu.edu">Adi G</a>
    </nav>
  </span>

    
    
  </aside>


  


  


  <form class="md-feedback" name="feedback" hidden>
    <fieldset>
      <legend class="md-feedback__title">
        Was this page helpful?
      </legend>
      <div class="md-feedback__inner">
        <div class="md-feedback__list">
          
            <button class="md-feedback__icon md-icon" type="submit" title="This page was helpful" data-md-value="1">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m7 0c0 .8-.7 1.5-1.5 1.5S14 10.3 14 9.5 14.7 8 15.5 8s1.5.7 1.5 1.5m-5 7.73c-1.75 0-3.29-.73-4.19-1.81L9.23 14c.45.72 1.52 1.23 2.77 1.23s2.32-.51 2.77-1.23l1.42 1.42c-.9 1.08-2.44 1.81-4.19 1.81Z"/></svg>
            </button>
          
            <button class="md-feedback__icon md-icon" type="submit" title="This page could be improved" data-md-value="0">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10m-6.5-4c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5-1.5-.7-1.5-1.5.7-1.5 1.5-1.5M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m2 4.5c1.75 0 3.29.72 4.19 1.81l-1.42 1.42C14.32 16.5 13.25 16 12 16s-2.32.5-2.77 1.23l-1.42-1.42C8.71 14.72 10.25 14 12 14Z"/></svg>
            </button>
          
        </div>
        <div class="md-feedback__note">
          
            <div data-md-value="1" hidden>
              
              
                
              
              Thanks for your feedback!
            </div>
          
            <div data-md-value="0" hidden>
              
              
                
              
              Thanks for your feedback! Help us improve this page by using our <a href="https://github.com/jhpce-jhu/jhpce_mkdocs/discussions/categories/website-feedback" target="_blank" rel="noopener">website feedback forum</a>.
            </div>
          
        </div>
      </div>
    </fieldset>
  </form>


                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2024 - 2028 Joint JHPCE Exchange
    </div>
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.sections", "toc.follow", "announce.dismiss", "navigation.top", "header.autohide", "navigation.footer", "navigation.indexes", "content.code.copy", "content.code.annotate"], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.af256bd8.min.js"></script>
      
        <script src="https://unpkg.com/tablesort@5.3.0/dist/tablesort.min.js"></script>
      
        <script src="../javascripts/tablesort.js"></script>
      
        <script src="../js/open_in_new_tab.js"></script>
      
    
  </body>
</html>